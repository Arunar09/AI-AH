<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Core Services Interactive Map</title>
	<script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* General Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif; /* Using Inter font */
            border-radius: 8px; /* Applying rounded corners to all elements */
        }

        /* Body Styles */
        body {
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%); /* AWS-inspired blueish gradient */
            min-height: 100vh;
            padding: 20px;
            color: white;
            display: flex;
            flex-direction: column;
            gap: 30px;
            align-items: center;
        }

        /* Container for overall layout */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        /* Main Heading */
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.8rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            color: #ff9900; /* AWS orange accent */
        }

        /* Mindmap Layout */
        .mindmap {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            width: 100%;
        }

        /* Central Node */
        .central-node {
            background: linear-gradient(45deg, #ff9900, #ffc400); /* AWS orange-yellow gradient */
            padding: 20px 40px;
            border-radius: 50px;
            font-size: 1.5rem;
            font-weight: bold;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            cursor: pointer;
            transform: scale(1);
            transition: all 0.3s ease;
        }

        .central-node:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }

        /* Main Branches Grid Layout */
        .main-branches {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            width: 100%;
        }

        /* Individual Branch Styles */
        .branch {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 25px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .branch:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255,0.15);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .branch-header {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #00bcd4; /* Light blue accent */
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .branch-icon {
            font-size: 1.5rem;
        }

        /* Sub-services (initially hidden) */
        .sub-services {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .sub-services.active {
            display: block;
        }

        /* Fade-in animation for sub-services */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Individual Service Item Styles */
        .service-item {
            background: rgba(0,0,0,0.2);
            margin: 10px 0;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .service-item:hover {
            background: rgba(0,0,0,0.3);
            transform: translateX(10px);
        }

        .service-name {
            font-weight: bold;
            color: #ffd700; /* Yellow accent */
            margin-bottom: 5px;
        }

        .service-desc {
            font-size: 0.9rem;
            color: #e0e0e0;
            margin-bottom: 10px;
        }

        .features {
            display: block;
            margin-top: 10px;
            padding: 10px;
            background: rgba(0,0,0,0.3);
        }

        /* Feature Tag Styles */
        .feature-tag {
            display: inline-block;
            background: #4CAF50; /* Green accent */
            color: white;
            padding: 3px 8px;
            margin: 2px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .feature-tag:hover {
            background: #45a049;
            transform: scale(1.05);
        }

        /* Feature Details (initially hidden, expands on click) */
        .feature-details {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: rgba(0,0,0,0.4);
            border-left: 4px solid #4CAF50; /* Green accent */
        }

        .feature-details.active {
            display: block;
            animation: slideDown 0.3s ease;
        }

        /* Slide-down animation for feature details */
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Sub-feature styles within details */
        .sub-feature {
            background: rgba(255,255,255,0.1);
            margin: 8px 0;
            padding: 10px;
            border-left: 3px solid #00bcd4; /* Light blue accent */
        }

        .sub-feature-title {
            font-weight: bold;
            color: #00bcd4; /* Light blue accent */
            margin-bottom: 5px;
        }

        .sub-feature-desc {
            font-size: 0.9rem;
            color: #e0e0e0;
            line-height: 1.4;
        }

        .feature-nav {
            text-align: center;
            margin: 15px 0;
            font-size: 0.9rem;
            color: #ff9900; /* AWS orange accent */
        }

        .use-cases {
            margin-top: 10px;
            font-size: 0.85rem;
            color: #ff9900; /* AWS orange accent */
        }

        /* Modal Overlay */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            animation: fadeIn 0.3s ease;
            overflow-y: auto; /* Allow scrolling for modal content */
        }

        /* Modal Content Box */
        .modal-content {
            background: linear-gradient(135deg, #1f283e 0%, #3a4b6c 100%); /* Consistent with body background */
            margin: 5% auto;
            padding: 30px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh; /* Max height to prevent overflow */
            overflow-y: auto; /* Ensure scrollability within modal */
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        /* Close Button for Modal */
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: white;
        }

        /* Sections within the modal */
        .tech-stack, .interdependencies, .config-nav {
            background: rgba(0,0,0,0.2);
            padding: 15px;
            margin: 15px 0;
        }

        .pricing-info {
            background: rgba(52, 152, 219, 0.2);
            padding: 10px;
            margin: 10px 0;
            font-size: 0.9rem;
        }

        .scenario-box {
            background: rgba(46, 204, 113, 0.2);
            padding: 15px;
            margin: 15px 0;
        }
        
        .config-options {
            list-style-type: disc;
            margin-left: 20px;
            padding-left: 0;
        }

        .config-options li {
            margin-bottom: 5px;
        }

        .llm-action-button {
            background-color: #ff9900; /* AWS orange accent */
            color: white;
            border: none;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
            margin-right: 10px;
            transition: background-color 0.3s ease;
        }

        .llm-action-button:hover {
            background-color: #e68a00;
        }

        .llm-output-area {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            margin-top: 20px;
            border: 1px solid rgba(255,255,255,0.2);
            min-height: 50px;
            font-size: 0.95rem;
            line-height: 1.5;
            white-space: pre-wrap;
            word-wrap: break-word;
            display: none; /* Hidden by default */
        }

        .loading-indicator {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: #ff9900; /* AWS orange accent */
            animation: spin 1s ease-in-out infinite;
            -webkit-animation: spin 1s ease-in-out infinite;
            margin-left: 10px;
            vertical-align: middle;
        }

        @keyframes spin {
            to { -webkit-transform: rotate(360deg); }
        }
        @-webkit-animation {
            to { -webkit-transform: rotate(360deg); }
        }

        /* Floating Search Bar Styles */
        .floating-search-container {
            position: fixed;
            bottom: 20px;
            right: 20px; /* Default position */
            z-index: 1001;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            padding: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            transition: all 0.3s ease-in-out;
            opacity: 0.6;
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid rgba(255,255,255,0.2);
            cursor: grab;
        }

        .floating-search-container:hover {
            opacity: 1;
        }

        .floating-search-container.expanded {
            width: 350px;
            height: auto;
            opacity: 1;
            flex-direction: column;
            align-items: flex-start;
            padding: 20px;
            cursor: auto;
            /* Dynamic positioning will be handled by JS */
        }

        .search-toggle-button {
            background-color: #ff9900; /* AWS orange accent */
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            font-size: 1.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .search-toggle-button:hover {
            background-color: #e68a00;
        }

        .floating-search-content {
            display: none;
            width: 100%;
        }

        .floating-search-container.expanded .floating-search-content {
            display: block;
        }

        .floating-search-content .search-bar-container {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            flex-direction: column;
        }
        
        .floating-search-content .search-bar-container input[type="text"] {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid rgba(255,255,255,0.3);
            background-color: rgba(0,0,0,0.3);
            color: white;
            font-size: 1rem;
            width: 100%;
        }

        .floating-search-content .search-bar-container button {
            padding: 10px 20px;
            background-color: #00bcd4; /* Light blue accent */
            color: white;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
            width: 100%;
        }

        .floating-search-content .search-bar-container button:hover {
            background-color: #0097a7;
        }

        /* Close button for expanded search */
        .floating-search-close {
            color: #aaa;
            align-self: flex-end;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            margin-bottom: 10px;
            display: none;
        }

        .floating-search-container.expanded .floating-search-close {
            display: block;
        }

        .floating-search-close:hover {
            color: white;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .main-branches {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .modal-content {
                width: 95%;
                margin: 10% auto;
                padding: 20px;
            }
            .floating-search-container.expanded {
                width: 90%;
                right: 5%;
                bottom: 10%;
            }
            .floating-search-content .search-bar-container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚òÅÔ∏è AWS Core Services </h1>
        
		 <!-- Back to Landing Page Button -->
<a href="../../index.html" class="fixed top-4 left-4 z-50 bg-emerald-700 text-white py-2 px-4 rounded-lg shadow-lg hover:bg-emerald-800 transition duration-300 ease-in-out text-lg font-bold">
    &larr; Back to Hub
</a>
	
        <div class="mindmap">
            <div class="central-node">
                Core AWS Services
            </div>
            
            <div class="main-branches">
                <div class="branch" onclick="toggleBranch('compute-services')">
                    <div class="branch-header">
                        <span class="branch-icon">üíª</span>
                        Compute Services
                    </div>
                    <div id="compute-services" class="sub-services">
                        <div class="service-item" onclick="showServiceDetails('ec2')">
                            <div class="service-name">Amazon EC2</div>
                            <div class="service-desc">Scalable virtual servers in the cloud</div>
                            <div class="use-cases">üí° Hosting web applications, running enterprise software</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('lambda')">
                            <div class="service-name">AWS Lambda</div>
                            <div class="service-desc">Serverless compute, run code without servers</div>
                            <div class="use-cases">üí° Event-driven functions, backend for web/mobile apps</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('ecs')">
                            <div class="service-name">Amazon ECS</div>
                            <div class="service-desc">Container orchestration service</div>
                            <div class="use-cases">üí° Deploying Docker applications at scale</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('eks')">
                            <div class="service-name">Amazon EKS</div>
                            <div class="service-desc">Managed Kubernetes service</div>
                            <div class="use-cases">üí° Running Kubernetes workloads on AWS</div>
                        </div>
                    </div>
                </div>

                <div class="branch" onclick="toggleBranch('storage-services')">
                    <div class="branch-header">
                        <span class="branch-icon">üíæ</span>
                        Storage Services
                    </div>
                    <div id="storage-services" class="sub-services">
                        <div class="service-item" onclick="showServiceDetails('s3')">
                            <div class="service-name">Amazon S3</div>
                            <div class="service-desc">Scalable object storage for the internet</div>
                            <div class="use-cases">üí° Data lakes, backup & restore, static website hosting</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('ebs')">
                            <div class="service-name">Amazon EBS</div>
                            <div class="service-desc">Block storage for EC2 instances</div>
                            <div class="use-cases">üí° Database storage, boot volumes for EC2</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('efs')">
                            <div class="service-name">Amazon EFS</div>
                            <div class="service-desc">Scalable file storage for EC2</div>
                            <div class="use-cases">üí° Content management, media processing, shared file systems</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('glacier')">
                            <div class="service-name">Amazon S3 Glacier</div>
                            <div class="service-desc">Low-cost archival storage</div>
                            <div class="use-cases">üí° Long-term data archiving, regulatory compliance</div>
                        </div>
                    </div>
                </div>

                <div class="branch" onclick="toggleBranch('database-services')">
                    <div class="branch-header">
                        <span class="branch-icon">üóÉÔ∏è</span>
                        Database Services
                    </div>
                    <div id="database-services" class="sub-services">
                        <div class="service-item" onclick="showServiceDetails('rds')">
                            <div class="service-name">Amazon RDS</div>
                            <div class="service-desc">Managed relational databases</div>
                            <div class="use-cases">üí° MySQL, PostgreSQL, SQL Server, Oracle, MariaDB</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('dynamodb')">
                            <div class="service-name">Amazon DynamoDB</div>
                            <div class="service-desc">Fast NoSQL database service</div>
                            <div class="use-cases">üí° Mobile backends, gaming, IoT, real-time applications</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('aurora')">
                            <div class="service-name">Amazon Aurora</div>
                            <div class="service-desc">High-performance relational database compatible with MySQL and PostgreSQL</div>
                            <div class="use-cases">üí° High-throughput applications, enterprise databases</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('redshift')">
                            <div class="service-name">Amazon Redshift</div>
                            <div class="service-desc">Cloud data warehouse service</div>
                            <div class="use-cases">üí° Business intelligence, analytics, data warehousing</div>
                        </div>
                    </div>
                </div>

                <div class="branch" onclick="toggleBranch('networking-services')">
                    <div class="branch-header">
                        <span class="branch-icon">üåê</span>
                        Networking & Content Delivery
                    </div>
                    <div id="networking-services" class="sub-services">
                        <div class="service-item" onclick="showServiceDetails('vpc')">
                            <div class="service-name">Amazon VPC</div>
                            <div class="service-desc">Isolate your resources in a virtual network</div>
                            <div class="use-cases">üí° Private cloud environments, secure network segmentation</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('route53')">
                            <div class="service-name">Amazon Route 53</div>
                            <div class="service-desc">Scalable cloud Domain Name System (DNS)</div>
                            <div class="use-cases">üí° Domain registration, DNS routing, health checks</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('cloudfront')">
                            <div class="service-name">Amazon CloudFront</div>
                            <div class="service-desc">Fast content delivery network (CDN) service</div>
                            <div class="use-cases">üí° Global content distribution, website acceleration</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('api-gateway')">
                            <div class="service-name">Amazon API Gateway</div>
                            <div class="service-desc">Create, publish, and manage APIs at scale</div>
                            <div class="use-cases">üí° Serverless APIs, microservices integration, mobile app backends</div>
                        </div>
                    </div>
                </div>

                <div class="branch" onclick="toggleBranch('management-governance')">
                    <div class="branch-header">
                        <span class="branch-icon">‚öôÔ∏è</span>
                        Management & Governance
                    </div>
                    <div id="management-governance" class="sub-services">
                        <div class="service-item" onclick="showServiceDetails('iam')">
                            <div class="service-name">AWS IAM</div>
                            <div class="service-desc">Manage access to AWS resources securely</div>
                            <div class="use-cases">üí° User management, role-based access control, security</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('cloudwatch')">
                            <div class="service-name">Amazon CloudWatch</div>
                            <div class="service-desc">Monitor resources and applications</div>
                            <div class="use-cases">üí° Performance monitoring, logging, alarms, dashboards</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('cloudformation')">
                            <div class="service-name">AWS CloudFormation</div>
                            <div class="service-desc">Infrastructure as Code service</div>
                            <div class="use-cases">üí° Automating infrastructure provisioning, resource management</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('organizations')">
                            <div class="service-name">AWS Organizations</div>
                            <div class="service-desc">Centralized management of multiple AWS accounts</div>
                            <div class="use-cases">üí° Consolidated billing, policy enforcement, account governance</div>
                        </div>
                    </div>
                </div>

                <div class="branch" onclick="toggleBranch('developer-tools')">
                    <div class="branch-header">
                        <span class="branch-icon">üõ†Ô∏è</span>
                        Developer Tools
                    </div>
                    <div id="developer-tools" class="sub-services">
                        <div class="service-item" onclick="showServiceDetails('codepipeline')">
                            <div class="service-name">AWS CodePipeline</div>
                            <div class="service-desc">Continuous delivery service</div>
                            <div class="use-cases">üí° Automating release processes, CI/CD pipelines</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('codebuild')">
                            <div class="service-name">AWS CodeBuild</div>
                            <div class="service-desc">Managed build service</div>
                            <div class="use-cases">üí° Compiling code, running tests, creating build artifacts</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('codedeploy')">
                            <div class="service-name">AWS CodeDeploy</div>
                            <div class="service-desc">Automate code deployments</div>
                            <div class="use-cases">üí° Deploying applications to EC2, Lambda, on-premises servers</div>
                        </div>
                        <div class="service-item" onclick="showServiceDetails('cloud9')">
                            <div class="service-name">AWS Cloud9</div>
                            <div class="service-desc">Cloud-based IDE</div>
                            <div class="use-cases">üí° Collaborative coding, serverless development</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Service Details Modal -->
    <div id="serviceModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <!-- Floating AI Search Bar -->
    <div id="floatingAISearch" class="floating-search-container">
        <button class="search-toggle-button" onclick="toggleFloatingSearch()">
            <span id="searchIcon">üîç</span>
        </button>
        <div class="floating-search-content">
            <span class="floating-search-close" onclick="toggleFloatingSearch()">&times;</span>
            <div class="search-bar-container">
                <input type="text" id="ai-search-input" placeholder="Ask Gemini AI anything about AWS core services...">
                <button id="ai-search-button" onclick="performAISearch()">Search with AI ‚ú®</button>
            </div>
            <div id="ai-search-output" class="llm-output-area">
                <!-- Search results will appear here -->
            </div>
        </div>
    </div>

    <script>
        // Data structure containing details for each AWS Core service (non-AI)
        const serviceData = {
            'ec2': {
                name: "Amazon EC2 (Elastic Compute Cloud)",
                description: "Provides resizable compute capacity in the cloud as virtual servers (instances).",
                features: ["On-Demand Instances", "Reserved Instances", "Spot Instances", "Dedicated Hosts", "Auto Scaling", "Load Balancing (ELB)"],
                featureDetails: {
                    "On-Demand Instances": {
                        subFeatures: [
                            { title: "Pay-per-second", desc: "Pay for compute capacity by the second, with a minimum of 60 seconds." },
                            { title: "No Upfront Costs", desc: "No long-term commitments or upfront payments." },
                            { title: "Flexible", desc: "Ideal for applications with short-term, irregular workloads." }
                        ],
                        navigation: "EC2 Console -> Instances -> Launch instances",
                        options: [
                            "Choose instance type (e.g., t3.micro, m5.large, c5.xlarge).",
                            "Select Amazon Machine Image (AMI) (OS + software).",
                            "Configure security groups and key pairs for access."
                        ]
                    },
                    "Reserved Instances": {
                        subFeatures: [
                            { title: "Cost Savings", desc: "Significant discounts (up to 75%) compared to On-Demand pricing." },
                            { title: "Capacity Reservation", desc: "Ensures capacity is available when you need it." },
                            { title: "Commitment", desc: "Requires a 1-year or 3-year commitment." }
                        ],
                        navigation: "EC2 Console -> Reserved Instances -> Purchase Reserved Instances",
                        options: [
                            "Choose instance family, tenancy, and payment option (all upfront, partial upfront, no upfront).",
                            "Match instance attributes (region, instance type, platform) carefully with your needs."
                        ]
                    },
                    "Spot Instances": {
                        subFeatures: [
                            { title: "Steep Discounts", desc: "Up to 90% discount compared to On-Demand prices." },
                            { title: "Interruptible", desc: "Instances can be interrupted by AWS with a 2-minute warning." },
                            { title: "Flexible Workloads", desc: "Suitable for fault-tolerant, flexible applications like batch processing, data analysis, or scientific computing." }
                        ],
                        navigation: "EC2 Console -> Spot Requests -> Request Spot Instances",
                        options: [
                            "Specify maximum price you're willing to pay.",
                            "Define interruption behavior (stop, hibernate, terminate).",
                            "Use Spot Fleet for managing multiple instance types and purchasing options."
                        ]
                    },
                    "Dedicated Hosts": {
                        subFeatures: [
                            { title: "Physical Server", desc: "A physical server dedicated for your use." },
                            { title: "Licensing Requirements", desc: "Useful for server-bound software licenses (e.g., Windows Server, Oracle Database)." },
                            { title: "Visibility & Control", desc: "Provides visibility into sockets, cores, and host utilization." }
                        ],
                        navigation: "EC2 Console -> Dedicated Hosts -> Allocate Host",
                        options: [
                            "Select instance family and instance size for the dedicated host.",
                            "Choose tenancy (single-tenant).",
                            "Manage instance placement on specific hosts."
                        ]
                    },
                    "Auto Scaling": {
                        subFeatures: [
                            { title: "Automatic Scaling", desc: "Automatically adjusts EC2 capacity to maintain performance and optimize costs." },
                            { title: "Load Balancing Integration", desc: "Distributes incoming traffic across instances as they scale." },
                            { title: "Health Checks", desc: "Replaces unhealthy instances." }
                        ],
                        navigation: "EC2 Console -> Auto Scaling Groups -> Create Auto Scaling group",
                        options: [
                            "Define launch template/configuration (AMI, instance type, security groups).",
                            "Set desired, minimum, and maximum capacity.",
                            "Configure scaling policies (e.g., target tracking, simple scaling, step scaling)."
                        ]
                    },
                    "Load Balancing (ELB)": {
                        subFeatures: [
                            { title: "Distribute Traffic", desc: "Distributes incoming application traffic across multiple targets." },
                            { title: "High Availability", desc: "Increases fault tolerance of applications." },
                            { title: "SSL Termination", desc: "Offloads SSL/TLS decryption from instances." }
                        ],
                        navigation: "EC2 Console -> Load Balancers -> Create Load Balancer",
                        options: [
                            "Choose load balancer type (Application Load Balancer, Network Load Balancer, Gateway Load Balancer, Classic Load Balancer).",
                            "Configure listeners (protocols, ports).",
                            "Define target groups and health checks."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon VPC**: EC2 instances always launch within a VPC.",
                    "**Amazon EBS**: Provides persistent block storage volumes for EC2 instances.",
                    "**Amazon S3**: Often used for storing application data or backups that EC2 instances access.",
                    "**AWS IAM**: For controlling permissions for EC2 instances and users managing them.",
                    "**Amazon CloudWatch**: For monitoring EC2 instance metrics, logs, and alarms.",
                    "**Elastic Load Balancing (ELB)**: For distributing traffic to multiple EC2 instances.",
                    "**Auto Scaling**: For automatically adjusting EC2 capacity."
                ],
                techStack: ["Linux", "Windows Server", "Docker", "Various programming languages"],
                pricing: "Varies by instance type, region, operating system, and purchase option (On-Demand, Reserved, Spot, Dedicated Host).",
                scenarios: [
                    "Hosting web servers and application servers.",
                    "Running batch processing jobs.",
                    "Developing and testing applications.",
                    "Providing virtual desktops for remote workforces."
                ]
            },
            'lambda': {
                name: "AWS Lambda",
                description: "A serverless, event-driven compute service that lets you run code without provisioning or managing servers.",
                features: ["Event-driven Execution", "Serverless", "Automatic Scaling", "Cost-Effective", "Language Runtimes"],
                featureDetails: {
                    "Event-driven Execution": {
                        subFeatures: [
                            { title: "Triggers", desc: "Automatically invokes your function in response to events from AWS services (e.g., S3, DynamoDB, API Gateway) or custom events." },
                            { title: "Real-time Processing", desc: "Processes events as they occur, enabling real-time application logic." },
                            { title: "Loose Coupling", desc: "Decouples components, making your architecture more flexible and resilient." }
                        ],
                        navigation: "Lambda Console -> Functions -> Create function -> Add triggers",
                        options: [
                            "Choose from a wide array of event sources (e.g., S3 Put event, DynamoDB Stream record, API Gateway HTTP request).",
                            "Configure batch size and concurrency limits for event sources."
                        ]
                    },
                    "Serverless": {
                        subFeatures: [
                            { title: "No Server Management", desc: "You don't provision, scale, or maintain any servers." },
                            { title: "Abstracted Infrastructure", desc: "AWS handles all underlying infrastructure management, patching, and security." },
                            { title: "Focus on Code", desc: "Developers can focus purely on writing application logic." }
                        ],
                        navigation: "N/A - inherent service property",
                        options: [
                            "N/A"
                        ]
                    },
                    "Automatic Scaling": {
                        subFeatures: [
                            { title: "Instant Scaling", desc: "Automatically scales from zero to thousands of requests per second." },
                            { title: "Concurrency Control", desc: "Configure maximum concurrent executions to manage resource usage." },
                            { title: "Provisioned Concurrency", desc: "Pre-initialize functions for low-latency, highly responsive applications." }
                        ],
                        navigation: "Lambda Console -> Functions -> Select function -> Configuration -> Concurrency",
                        options: [
                            "Set reserved concurrency for critical functions.",
                            "Configure auto-scaling for event sources like SQS to match processing rate."
                        ]
                    },
                    "Cost-Effective": {
                        subFeatures: [
                            { title: "Pay-per-request", desc: "You pay only for the compute time consumed when your code runs." },
                            { title: "Free Tier", desc: "Includes a generous free tier for function invocations and compute duration." },
                            { title: "Granular Billing", desc: "Billed in 1 ms increments, ensuring cost optimization." }
                        ],
                        navigation: "N/A - inherent service property",
                        options: [
                            "Optimize memory allocation for your function to reduce billing duration.",
                            "Monitor CloudWatch metrics for invocation counts and duration."
                        ]
                    },
                    "Language Runtimes": {
                        subFeatures: [
                            { title: "Multiple Languages", desc: "Supports popular languages like Node.js, Python, Java, C#, Go, Ruby, PowerShell." },
                            { title: "Custom Runtimes", desc: "Bring your own runtime for any language." },
                            { title: "Container Images", desc: "Package and deploy functions as Docker container images for greater flexibility." }
                        ],
                        navigation: "Lambda Console -> Functions -> Create function -> Runtime",
                        options: [
                            "Choose the appropriate runtime for your code.",
                            "For custom runtimes or larger dependencies, use container images or Lambda layers."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon S3**: Common trigger for data processing functions.",
                    "**Amazon DynamoDB**: Often used as a data store accessed by Lambda functions.",
                    "**Amazon API Gateway**: To expose Lambda functions as HTTP APIs.",
                    "**Amazon SQS/SNS**: For asynchronous processing and notifications.",
                    "**AWS IAM**: For granting permissions to Lambda functions to access other AWS services.",
                    "**Amazon CloudWatch**: For monitoring Lambda function invocations, errors, and logs.",
                    "**AWS Step Functions**: For orchestrating complex workflows involving multiple Lambda functions."
                ],
                techStack: ["Node.js", "Python", "Java", "C#", "Go", "Ruby", "Container Images", "REST APIs"],
                pricing: "Pay-per-request and per-GB-second of compute time. Free tier includes 1M free requests and 400,000 GB-seconds of compute time per month.",
                scenarios: [
                    "Building serverless web and mobile backends.",
                    "Processing data streams in real-time.",
                    "Automating infrastructure management and IT operations.",
                    "Creating chatbots and virtual assistants (often with Amazon Lex)."
                ]
            },
            'ecs': {
                name: "Amazon ECS (Elastic Container Service)",
                description: "A fully managed container orchestration service that makes it easy to run, stop, and manage Docker containers on a cluster.",
                features: ["Fargate Launch Type", "EC2 Launch Type", "Service Discovery", "Cluster Management", "Task Definitions"],
                featureDetails: {
                    "Fargate Launch Type": {
                        subFeatures: [
                            { title: "Serverless Containers", desc: "Run containers without managing servers or clusters." },
                            { title: "Pay-as-you-go", desc: "Pay only for the vCPU and memory resources your containers consume." },
                            { title: "Simplified Operations", desc: "AWS manages the underlying infrastructure." }
                        ],
                        navigation: "ECS Console -> Task Definitions -> Create new Task Definition -> Launch type compatibility: Fargate",
                        options: [
                            "Define CPU and memory for your tasks.",
                            "Set network configuration (VPC subnets, security groups).",
                            "Specify platform version for Fargate."
                        ]
                    },
                    "EC2 Launch Type": {
                        subFeatures: [
                            { title: "Full Control", desc: "Retain control over the underlying EC2 instances." },
                            { title: "Customization", desc: "Choose specific EC2 instance types and leverage Spot Instances." },
                            { title: "Cost Optimization", desc: "Potentially lower costs for consistent, long-running workloads with Reserved Instances." }
                        ],
                        navigation: "ECS Console -> Clusters -> Create Cluster -> EC2 Linux + Networking",
                        options: [
                            "Select EC2 instance type and count for your cluster.",
                            "Configure Auto Scaling for EC2 instances.",
                            "Manage underlying EC2 instances and AMIs."
                        ]
                    },
                    "Service Discovery": {
                        subFeatures: [
                            { title: "Integrated DNS", desc: "Automatically registers and deregisters container instances with Route 53." },
                            { title: "Simplified Communication", desc: "Containers can find each other using DNS names." },
                            { title: "Load Balancing", desc: "Integrates with Elastic Load Balancing for traffic distribution." }
                        ],
                        navigation: "ECS Console -> Services -> Create Service -> Service Discovery (optional)",
                        options: [
                            "Enable service discovery when creating an ECS service.",
                            "Choose a Route 53 private hosted zone.",
                            "Configure health check settings for service instances."
                        ]
                    },
                    "Cluster Management": {
                        subFeatures: [
                            { title: "Container Instance Management", desc: "Manages the lifecycle of container instances within a cluster." },
                            { title: "Task Placement", desc: "Schedules tasks (containers) across available container instances." },
                            { title: "Resource Utilization", desc: "Optimizes resource usage across the cluster." }
                        ],
                        navigation: "ECS Console -> Clusters",
                        options: [
                            "Configure cluster capacity providers (Fargate, EC2).",
                            "Set up instance draining for graceful termination of container instances."
                        ]
                    },
                    "Task Definitions": {
                        subFeatures: [
                            { title: "Blueprint for Applications", desc: "Describes one or more containers that form an application." },
                            { title: "Resource Allocation", desc: "Specify CPU, memory, port mappings, and environment variables." },
                            { title: "Networking Modes", desc: "Choose network modes (e.g., awsvpc, bridge, host) for containers." }
                        ],
                        navigation: "ECS Console -> Task Definitions -> Create new Task Definition",
                        options: [
                            "Define container images, commands, and arguments.",
                            "Configure logging (e.g., CloudWatch Logs, FireLens).",
                            "Set up health checks for containers."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon ECR**: For storing Docker container images.",
                    "**Amazon VPC**: ECS clusters and tasks run within a VPC.",
                    "**Elastic Load Balancing (ELB)**: For distributing traffic to ECS services.",
                    "**AWS IAM**: For controlling permissions for ECS resources and services.",
                    "**Amazon CloudWatch**: For monitoring ECS metrics and logs.",
                    "**AWS Fargate**: Serverless compute engine for ECS.",
                    "**Amazon EC2**: Used as compute capacity for the EC2 launch type."
                ],
                techStack: ["Docker", "Linux Containers", "YAML/JSON for Task Definitions", "AWS CLI", "AWS SDKs"],
                pricing: "EC2 Launch Type: Pay for underlying EC2 instances. Fargate Launch Type: Pay for vCPU and memory resources consumed by containers.",
                scenarios: [
                    "Deploying microservices architectures.",
                    "Running batch processing jobs in containers.",
                    "Hosting web applications and APIs in a containerized environment.",
                    "Migrating monolithic applications to containers."
                ]
            },
            'eks': {
                name: "Amazon EKS (Elastic Kubernetes Service)",
                description: "A managed service that makes it easy to run Kubernetes on AWS without needing to install, operate, and maintain your own Kubernetes control plane.",
                features: ["Managed Control Plane", "Integrated Networking", "Automatic Scaling", "Observability", "Security"],
                featureDetails: {
                    "Managed Control Plane": {
                        subFeatures: [
                            { title: "High Availability", desc: "Control plane (master nodes) runs across multiple Availability Zones." },
                            { title: "Automated Upgrades", desc: "AWS manages upgrades and patching of the Kubernetes control plane." },
                            { title: "No Infrastructure Management", desc: "You only manage the worker nodes." }
                        ],
                        navigation: "EKS Console -> Clusters -> Create cluster",
                        options: [
                            "Choose Kubernetes version.",
                            "Configure VPC and subnets for the cluster.",
                            "Define IAM roles for the EKS service."
                        ]
                    },
                    "Integrated Networking": {
                        subFeatures: [
                            { title: "AWS VPC CNI", desc: "Assigns a private IP address from your VPC to each pod for direct networking." },
                            { title: "Network Load Balancing", desc: "Seamless integration with AWS Network Load Balancer for high-performance traffic routing." },
                            { title: "Service Discovery", desc: "Integration with Route 53 for DNS-based service discovery." }
                        ],
                        navigation: "EKS Console -> Clusters -> Networking tab (during creation)",
                        options: [
                            "Ensure sufficient IP addresses in subnets for pods.",
                            "Configure security groups for communication between control plane and worker nodes."
                        ]
                    },
                    "Automatic Scaling": {
                        subFeatures: [
                            { title: "Cluster Autoscaler", desc: "Automatically adjusts the number of worker nodes in your cluster." },
                            { title: "Horizontal Pod Autoscaler (HPA)", desc: "Scales the number of pods in a deployment or replica set." },
                            { title: "Karpenter", desc: "High-performance Kubernetes cluster autoscaler for rapid scaling." }
                        ],
                        navigation: "Implement Kubernetes Cluster Autoscaler/HPA via kubectl apply.",
                        options: [
                            "Deploy Cluster Autoscaler and configure its parameters.",
                            "Define HPA metrics (CPU, memory, custom metrics).",
                            "For Karpenter, set up provisioners and instance types."
                        ]
                    },
                    "Observability": {
                        subFeatures: [
                            { title: "Container Insights", desc: "Monitors, troubleshoots, and alarms on containerized applications and microservices." },
                            { title: "Prometheus & Grafana", desc: "Common open-source tools for monitoring and visualization." },
                            { title: "Fluent Bit", desc: "Lightweight log processor for sending logs to CloudWatch Logs or other destinations." }
                        ],
                        navigation: "CloudWatch Console -> Container Insights / Integrate with Amazon Managed Service for Prometheus (AMP)",
                        options: [
                            "Enable Container Insights for your EKS cluster.",
                            "Deploy Prometheus and Grafana or use AWS managed services."
                        ]
                    },
                    "Security": {
                        subFeatures: [
                            { title: "IAM Integration", desc: "Authenticate Kubernetes users and service accounts with AWS IAM." },
                            { title: "Network Policies", desc: "Control network traffic between pods." },
                            { title: "Secrets Management", desc: "Integrate with AWS Secrets Manager for secure credential storage." }
                        ],
                        navigation: "EKS Console -> Clusters -> Configuration -> Authentication",
                        options: [
                            "Configure `aws-auth` ConfigMap for IAM role mapping.",
                            "Implement Kubernetes Network Policies.",
                            "Use AWS Secrets and Configuration Provider for secrets."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon EC2**: EKS worker nodes run on EC2 instances (or Fargate).",
                    "**Amazon VPC**: EKS cluster and nodes operate within a VPC.",
                    "**Elastic Load Balancing (ELB)**: For load balancing Kubernetes services.",
                    "**Amazon ECR**: For storing Docker container images.",
                    "**AWS IAM**: For authentication and authorization with Kubernetes.",
                    "**Amazon CloudWatch**: For monitoring and logging.",
                    "**AWS Fargate**: Option to run EKS pods on serverless infrastructure."
                ],
                techStack: ["Kubernetes", "Docker", "kubectl", "Helm", "YAML", "AWS CLI", "AWS SDKs"],
                pricing: "EKS Control Plane: $0.10 per hour per cluster. Worker Nodes: Pay for underlying EC2 instances (or Fargate).",
                scenarios: [
                    "Running microservices at scale with Kubernetes.",
                    "Migrating existing Kubernetes workloads to a managed service.",
                    "Building highly available and fault-tolerant applications.",
                    "Implementing GitOps workflows for application deployment."
                ]
            },
            's3': {
                name: "Amazon S3 (Simple Storage Service)",
                description: "Object storage built to store and retrieve any amount of data from anywhere on the web.",
                features: ["Scalability", "Durability", "Availability", "Security", "Storage Classes", "Lifecycle Management"],
                featureDetails: {
                    "Scalability": {
                        subFeatures: [
                            { title: "Infinite Storage", desc: "Store virtually unlimited amounts of data." },
                            { title: "Elastic Capacity", desc: "Automatically scales to meet demand without manual provisioning." },
                            { title: "High Throughput", desc: "Supports high request rates for data upload and download." }
                        ],
                        navigation: "S3 Console -> Buckets -> Create bucket",
                        options: [
                            "No specific configuration for scalability; it's inherent to S3.",
                            "Optimize object key naming for better performance."
                        ]
                    },
                    "Durability": {
                        subFeatures: [
                            { title: "11 Nines of Durability", desc: "Designed for 99.999999999% durability of objects over a given year." },
                            { title: "Redundant Storage", desc: "Automatically stores data across multiple devices and Availability Zones." },
                            { title: "Automatic Healing", desc: "Proactively monitors and repairs lost or corrupted data." }
                        ],
                        navigation: "N/A - inherent service property",
                        options: [
                            "Enable S3 Versioning to protect against accidental deletions and overwrites."
                        ]
                    },
                    "Availability": {
                        subFeatures: [
                            { title: "High Uptime", desc: "Designed for 99.99% availability over a given year." },
                            { title: "Multiple AZs", desc: "Data is distributed across multiple geographically distinct Availability Zones." },
                            { title: "Low Latency", desc: "Provides low-latency access to data." }
                        ],
                        navigation: "S3 Console -> Buckets -> Choose a region for your bucket",
                        options: [
                            "Choose a region geographically close to your users for lower latency."
                        ]
                    },
                    "Security": {
                        subFeatures: [
                            { title: "Access Control", desc: "Manage access with IAM policies, bucket policies, and Access Control Lists (ACLs)." },
                            { title: "Encryption at Rest", desc: "Encrypt data at rest using SSE-S3, SSE-KMS, or SSE-C." },
                            { title: "Encryption in Transit", desc: "Secure data in transit using HTTPS/TLS." },
                            { title: "MFA Delete", desc: "Requires multi-factor authentication for object deletion." }
                        ],
                        navigation: "S3 Console -> Buckets -> Select bucket -> Permissions / Properties (for encryption)",
                        options: [
                            "Implement bucket policies to restrict public access.",
                            "Enable default encryption for new objects.",
                            "Use S3 Block Public Access to prevent unintended public exposure."
                        ]
                    },
                    "Storage Classes": {
                        subFeatures: [
                            { title: "Standard", desc: "General-purpose storage for frequently accessed data." },
                            { title: "Intelligent-Tiering", desc: "Automatically moves data between access tiers based on access patterns." },
                            { title: "Infrequent Access (IA)", desc: "For data that is accessed less frequently but requires rapid access when needed." },
                            { title: "Glacier", desc: "Low-cost archival storage for rarely accessed data." }
                        ],
                        navigation: "S3 Console -> Buckets -> Upload -> Properties -> Storage class",
                        options: [
                            "Choose the appropriate storage class for each object based on access frequency and cost requirements.",
                            "Utilize Lifecycle Rules to automatically transition objects between storage classes."
                        ]
                    },
                    "Lifecycle Management": {
                        subFeatures: [
                            { title: "Automated Transitions", desc: "Define rules to automatically transition objects to different S3 storage classes." },
                            { title: "Automated Expiration", desc: "Automatically expire objects after a specified period." },
                            { title: "Cost Optimization", desc: "Helps reduce storage costs by moving data to cheaper tiers or deleting it." }
                        ],
                        navigation: "S3 Console -> Buckets -> Select bucket -> Management -> Lifecycle rules",
                        options: [
                            "Create rules based on age (days) or specific prefixes (folders).",
                            "Configure actions (transition to IA, Glacier, or delete)."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon EC2/Lambda**: For processing data stored in S3.",
                    "**Amazon CloudFront**: For content delivery acceleration using S3 as an origin.",
                    "**AWS Glue**: For ETL operations on data in S3 data lakes.",
                    "**Amazon Athena**: For querying data directly in S3 using standard SQL.",
                    "**AWS IAM**: For controlling access to S3 buckets and objects.",
                    "**Amazon CloudWatch**: For monitoring S3 metrics and events.",
                    "**AWS Backup**: For centralized backup of S3 data."
                ],
                techStack: ["REST APIs", "AWS CLI", "AWS SDKs", "HTTP/HTTPS", "Various file formats"],
                pricing: "Pay-per-gigabyte for storage, per-request for data access, and per-GB for data transfer out of S3. Varies by storage class and region.",
                scenarios: [
                    "Hosting static websites.",
                    "Storing data backups and archives.",
                    "Building data lakes for analytics.",
                    "Storing content for web and mobile applications.",
                    "Disaster recovery planning."
                ]
            },
            'ebs': {
                name: "Amazon EBS (Elastic Block Store)",
                description: "Provides persistent block storage volumes for use with Amazon EC2 instances.",
                features: ["Volume Types", "Snapshots", "Encryption", "Elasticity"],
                featureDetails: {
                    "Volume Types": {
                        subFeatures: [
                            { title: "General Purpose SSD (gp2/gp3)", desc: "Balances price and performance for a wide variety of transactional workloads." },
                            { title: "Provisioned IOPS SSD (io1/io2)", desc: "Highest performance SSD volumes for critical, I/O-intensive transactional workloads." },
                            { title: "Throughput Optimized HDD (st1)", desc: "Low-cost HDD volumes for frequently accessed, throughput-intensive workloads (e.g., big data, log processing)." },
                            { title: "Cold HDD (sc1)", desc: "Lowest-cost HDD volumes for less frequently accessed workloads (e.g., large cold data sets)." }
                        ],
                        navigation: "EC2 Console -> Volumes -> Create volume",
                        options: [
                            "Choose the appropriate volume type based on your performance and cost requirements.",
                            "Configure size and IOPS/throughput based on the chosen type."
                        ]
                    },
                    "Snapshots": {
                        subFeatures: [
                            { title: "Point-in-time Backups", desc: "Create point-in-time snapshots of your EBS volumes, stored in S3." },
                            { title: "Incremental Backups", desc: "Only changed blocks are saved after the initial snapshot." },
                            { title: "Volume Restoration", desc: "Restore a new EBS volume from a snapshot at any time." },
                            { title: "Cross-Region Copy", desc: "Copy snapshots across regions for disaster recovery." }
                        ],
                        navigation: "EC2 Console -> Snapshots -> Create snapshot",
                        options: [
                            "Enable automatic snapshots using AWS Backup or Lifecycle Manager.",
                            "Encrypt snapshots to protect data."
                        ]
                    },
                    "Encryption": {
                        subFeatures: [
                            { title: "Data at Rest", desc: "Encrypts your EBS volumes and their snapshots using KMS keys." },
                            { title: "Transparent Encryption", desc: "Encryption and decryption are handled automatically by AWS without impacting performance." },
                            { title: "Compliance", desc: "Helps meet compliance requirements for data security." }
                        ],
                        navigation: "EC2 Console -> Volumes -> Create volume (select 'Encrypt volume')",
                        options: [
                            "Choose an AWS managed key or a customer managed key (CMK) from KMS.",
                            "All new volumes created from an encrypted snapshot are also encrypted."
                        ]
                    },
                    "Elasticity": {
                        subFeatures: [
                            { title: "Resize Volumes", desc: "Dynamically increase the size, change the volume type, or adjust IOPS/throughput of volumes." },
                            { title: "No Downtime", desc: "Changes can often be made while the volume is in use." },
                            { title: "Attach/Detach", desc: "Attach or detach volumes from EC2 instances as needed." }
                        ],
                        navigation: "EC2 Console -> Volumes -> Select volume -> Actions -> Modify volume",
                        options: [
                            "Modify volume properties based on changing application needs.",
                            "Ensure your instance is compatible with the new volume type or size."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon EC2**: EBS volumes are primarily used with EC2 instances.",
                    "**Amazon S3**: EBS snapshots are stored in S3.",
                    "**AWS KMS**: For managing encryption keys for EBS volumes.",
                    "**AWS Backup**: For centralized backup and recovery of EBS volumes.",
                    "**AWS IAM**: For controlling permissions to create, modify, and attach EBS volumes.",
                    "**Amazon CloudWatch**: For monitoring EBS volume performance metrics."
                ],
                techStack: ["Block storage", "Disk I/O operations", "Linux/Windows file systems"],
                pricing: "Pay-per-gigabyte for storage, per-IOPS/throughput (for provisioned types), and for snapshot storage.",
                scenarios: [
                    "Root volumes for EC2 instances.",
                    "Database storage for relational and NoSQL databases.",
                    "Shared storage for containerized applications.",
                    "Persistent storage for development and testing environments."
                ]
            },
            'efs': {
                name: "Amazon EFS (Elastic File System)",
                description: "Provides scalable, elastic, cloud-native NFS (Network File System) file storage for Linux-based EC2 instances and on-premises servers.",
                features: ["Elastic Scaling", "Shared Access", "High Availability", "Performance Modes", "Lifecycle Management"],
                featureDetails: {
                    "Elastic Scaling": {
                        subFeatures: [
                            { title: "Automatic Capacity Scaling", desc: "Automatically grows and shrinks as you add or remove files." },
                            { title: "No Provisioning", desc: "You don't need to provision storage capacity in advance." },
                            { title: "Pay-for-what-you-use", desc: "Only pay for the storage you use." }
                        ],
                        navigation: "N/A - inherent service property",
                        options: [
                            "N/A"
                        ]
                    },
                    "Shared Access": {
                        subFeatures: [
                            { title: "NFSv4 Support", desc: "Supports NFSv4.0 and NFSv4.1 protocols, enabling multiple EC2 instances to access the same file system simultaneously." },
                            { title: "On-premises Access", desc: "Access EFS from on-premises data centers using Direct Connect or VPN." },
                            { title: "Cross-AZ Access", desc: "File systems can be accessed from EC2 instances in different Availability Zones." }
                        ],
                        navigation: "EFS Console -> File systems -> Create file system -> Network access (select VPC and subnets)",
                        options: [
                            "Configure mount targets in multiple AZs for high availability.",
                            "Set up security groups to control network access to EFS mount targets."
                        ]
                    },
                    "High Availability": {
                        subFeatures: [
                            { title: "Multi-AZ Redundancy", desc: "Data is stored redundantly across multiple Availability Zones within a region." },
                            { title: "Durability", desc: "Designed for 99.999999999% (11 nines) durability." },
                            { title: "Seamless Failover", desc: "Automatically recovers from failures without application interruption." }
                        ],
                        navigation: "EFS Console -> File systems -> Create file system (choose region)",
                        options: [
                            "N/A - inherent service property"
                        ]
                    },
                    "Performance Modes": {
                        subFeatures: [
                            { title: "General Purpose", desc: "Default mode for most file systems, balancing latency, throughput, and IOPS." },
                            { title: "Max I/O", desc: "Optimized for applications requiring the highest levels of aggregate throughput and IOPS (e.g., big data, media processing)." },
                            { title: "Bursting Throughput", desc: "Throughput scales with the amount of data stored, suitable for bursty workloads." },
                            { title: "Provisioned Throughput", desc: "Provision a fixed level of throughput independent of storage size." }
                        ],
                        navigation: "EFS Console -> File systems -> Create file system -> Performance settings",
                        options: [
                            "Choose the appropriate performance mode based on your workload characteristics.",
                            "Monitor performance metrics in CloudWatch to adjust if needed."
                        ]
                    },
                    "Lifecycle Management": {
                        subFeatures: [
                            { title: "Automatic Tiering", desc: "Automatically moves infrequently accessed data from Standard to Infrequent Access storage class." },
                            { title: "Cost Optimization", desc: "Helps reduce storage costs by automatically moving data to cheaper tiers." },
                            { title: "Intelligent Archiving", desc: "Further optimize costs by moving data from Infrequent Access to One Zone Infrequent Access or Glacier (via S3 lifecycle)." }
                        ],
                        navigation: "EFS Console -> File systems -> Select file system -> Lifecycle management",
                        options: [
                            "Enable automatic transition to IA after a specified number of days.",
                            "Consider using EFS replication for disaster recovery."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon EC2**: EFS is designed to be used with EC2 instances.",
                    "**Amazon VPC**: EFS file systems are accessible from within a VPC.",
                    "**AWS Direct Connect / VPN**: For accessing EFS from on-premises environments.",
                    "**AWS IAM**: For controlling permissions to EFS resources.",
                    "**Amazon CloudWatch**: For monitoring EFS performance and usage.",
                    "**AWS Backup**: For centralized backup of EFS file systems."
                ],
                techStack: ["NFSv4.0/4.1", "Linux file systems", "Mount helper utilities"],
                pricing: "Pay-per-gigabyte for standard storage and infrequent access storage. Throughput is either included (bursting) or charged separately (provisioned).",
                scenarios: [
                    "Home directories for users.",
                    "Content management systems.",
                    "Development and test environments.",
                    "Big data analytics workloads.",
                    "Containerized applications requiring shared persistent storage."
                ]
            },
            'glacier': {
                name: "Amazon S3 Glacier",
                description: "A secure, durable, and extremely low-cost storage service for data archiving and long-term backup.",
                features: ["Low Cost", "Long-Term Retention", "Flexible Retrieval Options", "Security & Compliance"],
                featureDetails: {
                    "Low Cost": {
                        subFeatures: [
                            { title: "Extremely Low Price", desc: "Designed for cost-effective storage of data that is rarely accessed." },
                            { title: "Archival Focus", desc: "Optimized for data that needs to be retained for months, years, or decades." },
                            { title: "Tiered Pricing", desc: "Pricing varies by storage class (Standard, Deep Archive)." }
                        ],
                        navigation: "S3 Console -> Buckets -> Select bucket -> Management -> Lifecycle rules (to transition to Glacier)",
                        options: [
                            "Configure S3 Lifecycle rules to automatically transition data from S3 Standard or S3-IA to Glacier."
                        ]
                    },
                    "Long-Term Retention": {
                        subFeatures: [
                            { title: "Data Archiving", desc: "Ideal for archiving data such as regulatory records, research data, or media assets." },
                            { title: "Backup & Restore", desc: "Suitable for long-term backups where recovery time can be hours." },
                            { title: "Retention Policies", desc: "Enforce compliance by setting strict retention policies on archives." }
                        ],
                        navigation: "N/A - inherent service property",
                        options: [
                            "Define clear data retention periods for compliance requirements."
                        ]
                    },
                    "Flexible Retrieval Options": {
                        subFeatures: [
                            { title: "Expedited Retrieval", desc: "Access data within 1-5 minutes (highest cost)." },
                            { title: "Standard Retrieval", desc: "Access data within 3-5 hours (moderate cost)." },
                            { title: "Bulk Retrieval", desc: "Access large amounts of data within 5-12 hours (lowest cost)." },
                            { title: "S3 Intelligent-Tiering", desc: "Automatically moves data to Glacier tiers based on access patterns." }
                        ],
                        navigation: "S3 Console -> Buckets -> Select bucket -> Objects -> Restore from Glacier",
                        options: [
                            "Choose the retrieval option that balances your urgency and cost needs."
                        ]
                    },
                    "Security & Compliance": {
                        subFeatures: [
                            { title: "Encryption", desc: "All data is encrypted at rest by default using AES-256." },
                            { title: "Access Control", desc: "Manage access using IAM policies, bucket policies, and Vault Lock." },
                            { title: "Vault Lock", desc: "Enforce compliance controls (e.g., WORM - Write Once Read Many) on vaults." },
                            { title: "Audit Trails", desc: "Integrated with CloudTrail for logging API activity." }
                        ],
                        navigation: "Glacier Console -> Vaults -> Create vault / Configure Vault Lock",
                        options: [
                            "Use Vault Lock to set immutable compliance policies.",
                            "Configure IAM policies to restrict who can initiate retrievals."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon S3**: Glacier is often used as a storage class within S3 via lifecycle policies.",
                    "**AWS Backup**: Can be used to back up resources directly to Glacier or Glacier Deep Archive.",
                    "**AWS KMS**: For managing customer-managed encryption keys.",
                    "**AWS IAM**: For controlling access to Glacier vaults and operations.",
                    "**AWS CloudTrail**: For auditing Glacier API calls."
                ],
                techStack: ["REST APIs", "AWS CLI", "AWS SDKs", "Vaults/Archives concepts"],
                pricing: "Pay-per-gigabyte for storage, per-gigabyte for retrieval, and per-request for retrieval requests. Varies by retrieval option (Expedited, Standard, Bulk).",
                scenarios: [
                    "Long-term archival of regulatory records (e.g., financial statements, medical records).",
                    "Disaster recovery backups with infrequent restoration needs.",
                    "Storing media archives (e.g., film masters, raw footage).",
                    "Scientific data archiving."
                ]
            },
            'rds': {
                name: "Amazon RDS (Relational Database Service)",
                description: "Makes it easy to set up, operate, and scale a relational database in the cloud. It provides cost-efficient and resizable capacity while automating time-consuming administration tasks.",
                features: ["Managed Service", "Multiple Database Engines", "Automated Backups", "Multi-AZ Deployments", "Read Replicas"],
                featureDetails: {
                    "Managed Service": {
                        subFeatures: [
                            { title: "Automated Administration", desc: "Automates tasks like hardware provisioning, database setup, patching, and backups." },
                            { title: "Scalability", desc: "Easily scale compute and storage resources up or down as needed." },
                            { title: "Performance Monitoring", desc: "Integrated with CloudWatch for performance metrics and alarms." }
                        ],
                        navigation: "RDS Console -> Databases -> Create database",
                        options: [
                            "Choose database engine, version, and instance size.",
                            "Configure storage type and allocated storage.",
                            "Set up security groups for network access."
                        ]
                    },
                    "Multiple Database Engines": {
                        subFeatures: [
                            { title: "Amazon Aurora", desc: "High-performance, MySQL and PostgreSQL-compatible relational database." },
                            { title: "PostgreSQL", desc: "Open-source relational database." },
                            { title: "MySQL", desc: "Popular open-source relational database." },
                            { title: "MariaDB", desc: "Open-source relational database, fork of MySQL." },
                            { title: "Oracle", desc: "Commercial relational database." },
                            { title: "SQL Server", desc: "Microsoft relational database." }
                        ],
                        navigation: "RDS Console -> Databases -> Create database -> Choose an engine option",
                        options: [
                            "Select the database engine that best suits your application's needs and existing skill set."
                        ]
                    },
                    "Automated Backups": {
                        subFeatures: [
                            { title: "Automatic Backups", desc: "Automated daily backups of your database, retained for a user-specified period (up to 35 days)." },
                            { title: "Point-in-time Recovery", desc: "Restore your database to any point within the retention period." },
                            { title: "Database Snapshots", desc: "User-initiated backups stored until explicitly deleted." }
                        ],
                        navigation: "RDS Console -> Databases -> Select database -> Actions -> Take snapshot",
                        options: [
                            "Configure backup retention period.",
                            "Encrypt backups using KMS."
                        ]
                    },
                    "Multi-AZ Deployments": {
                        subFeatures: [
                            { title: "High Availability", desc: "Automatically provisions and maintains a synchronous standby replica in a different Availability Zone." },
                            { title: "Automatic Failover", desc: "Automatically switches to the standby replica in case of primary instance failure." },
                            { title: "Disaster Recovery", desc: "Provides protection against AZ outages." }
                        ],
                        navigation: "RDS Console -> Databases -> Create database -> Multi-AZ deployment",
                        options: [
                            "Enable Multi-AZ during database creation for production workloads.",
                            "Monitor replication status and failover events in CloudWatch."
                        ]
                    },
                    "Read Replicas": {
                        subFeatures: [
                            { title: "Scalability", desc: "Improve read throughput by offloading read traffic to separate instances." },
                            { title: "Asynchronous Replication", desc: "Replicate data asynchronously from the primary instance." },
                            { title: "Cross-Region Replicas", desc: "Create read replicas in different AWS regions for disaster recovery and global reach." }
                        ],
                        navigation: "RDS Console -> Databases -> Select database -> Actions -> Create read replica",
                        options: [
                            "Choose instance type and region for the read replica.",
                            "Monitor replication lag to ensure data freshness."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon VPC**: RDS instances run within a VPC.",
                    "**AWS KMS**: For encrypting RDS instances and backups.",
                    "**AWS IAM**: For controlling access to RDS resources.",
                    "**Amazon CloudWatch**: For monitoring database performance metrics and logs.",
                    "**AWS Backup**: For centralized backup management.",
                    "**AWS Secrets Manager**: For securely storing database credentials."
                ],
                techStack: ["SQL", "JDBC/ODBC drivers", "Specific database client tools"],
                pricing: "Pay-per-hour for database instance usage, per-GB for storage, and for I/O operations. Multi-AZ deployments, Read Replicas, and data transfer have additional costs.",
                scenarios: [
                    "Running traditional relational databases for web applications.",
                    "Enterprise application data storage.",
                    "Dev/test environments for relational databases.",
                    "Business intelligence and reporting."
                ]
            },
            'dynamodb': {
                name: "Amazon DynamoDB",
                description: "A fast and flexible NoSQL database service for all applications that need single-digit millisecond latency at any scale.",
                features: ["NoSQL", "Serverless", "Scalability", "High Performance", "Global Tables", "Streams", "Time to Live (TTL)"],
                featureDetails: {
                    "NoSQL": {
                        subFeatures: [
                            { title: "Key-Value Store", desc: "Stores data as key-value pairs with flexible schema." },
                            { title: "Document Database", desc: "Supports document data structures (JSON, XML, HTML)." },
                            { title: "Flexible Schema", desc: "Allows different items in the same table to have different attributes." }
                        ],
                        navigation: "DynamoDB Console -> Tables -> Create table",
                        options: [
                            "Define primary key (partition key and optional sort key).",
                            "Choose between 'On-demand' or 'Provisioned' capacity mode."
                        ]
                    },
                    "Serverless": {
                        subFeatures: [
                            { title: "No Server Management", desc: "AWS handles all infrastructure provisioning, scaling, and patching." },
                            { title: "Automatic Scaling", desc: "Automatically scales throughput and storage to meet demand." },
                            { title: "Pay-per-request", desc: "You pay only for the reads, writes, and storage you consume." }
                        ],
                        navigation: "DynamoDB Console -> Tables -> Create table -> Capacity mode: On-demand",
                        options: [
                            "Select On-demand capacity mode for unpredictable workloads to simplify cost management.",
                            "For predictable workloads, use Provisioned capacity with Auto Scaling."
                        ]
                    },
                    "Scalability": {
                        subFeatures: [
                            { title: "Virtually Unlimited Scale", desc: "Designed to handle petabytes of data and millions of requests per second." },
                            { title: "Automatic Partitioning", desc: "Automatically partitions data across servers as your table grows." },
                            { title: "Global Tables", desc: "Multi-Region, multi-master database for global applications." }
                        ],
                        navigation: "DynamoDB Console -> Tables -> Select table -> Global tables",
                        options: [
                            "Design your primary key to distribute data evenly across partitions.",
                            "For global applications, enable Global Tables to replicate data across regions."
                        ]
                    },
                    "High Performance": {
                        subFeatures: [
                            { title: "Single-Digit Millisecond Latency", desc: "Delivers consistent low-latency performance at any scale." },
                            { title: "SSD-Backed Storage", desc: "Uses solid-state drives for fast I/O performance." },
                            { title: "DynamoDB Accelerator (DAX)", desc: "In-memory cache for ultra-fast reads." }
                        ],
                        navigation: "DynamoDB Console -> DAX clusters -> Create cluster",
                        options: [
                            "For read-heavy workloads, consider deploying a DAX cluster to improve read performance.",
                            "Optimize your queries using indexes (Local Secondary Index, Global Secondary Index)."
                        ]
                    },
                    "Global Tables": {
                        subFeatures: [
                            { title: "Multi-Region Replication", desc: "Automatically replicates your DynamoDB tables across multiple AWS regions." },
                            { title: "Active-Active Architecture", desc: "All replicas are actively writable, providing multi-master capability." },
                            { title: "Disaster Recovery", desc: "Provides fast disaster recovery and global application availability." }
                        ],
                        navigation: "DynamoDB Console -> Tables -> Select table -> Global tables -> Add region",
                        options: [
                            "Enable DynamoDB Streams on your tables before configuring Global Tables.",
                            "Ensure consistent IAM permissions across regions for replication."
                        ]
                    },
                    "Streams": {
                        subFeatures: [
                            { title: "Real-time Data Capture", desc: "Captures a time-ordered sequence of item-level modifications in a DynamoDB table." },
                            { title: "Change Data Capture (CDC)", desc: "Enables event-driven architectures for data processing." },
                            { title: "Lambda Integration", desc: "Trigger Lambda functions directly from DynamoDB Streams for real-time processing." }
                        ],
                        navigation: "DynamoDB Console -> Tables -> Select table -> Exports and streams -> DynamoDB Streams -> Turn on",
                        options: [
                            "Choose stream view type (KEYS_ONLY, NEW_IMAGE, OLD_IMAGE, NEW_AND_OLD_IMAGES).",
                            "Configure Lambda trigger with appropriate batch size and concurrency."
                        ]
                    },
                    "Time to Live (TTL)": {
                        subFeatures: [
                            { title: "Automatic Item Deletion", desc: "Automatically deletes items from a table after a specified timestamp." },
                            { title: "Cost Savings", desc: "Helps reduce storage costs by removing expired data." },
                            { title: "Data Governance", desc: "Automates data retention policies for compliance." }
                        ],
                        navigation: "DynamoDB Console -> Tables -> Select table -> Additional settings -> Time to Live (TTL)",
                        options: [
                            "Specify the attribute name in your table that stores the expiration timestamp.",
                            "Ensure the timestamp is in Unix epoch time format."
                        ]
                    }
                },
                interdependencies: [
                    "**AWS Lambda**: Very common integration for processing DynamoDB Streams and backend logic.",
                    "**Amazon S3**: For data import/export, and for storing larger objects referenced in DynamoDB.",
                    "**Amazon Kinesis Firehose**: For streaming DynamoDB data to data lakes (S3) or data warehouses (Redshift).",
                    "**AWS IAM**: For controlling access to DynamoDB tables and operations.",
                    "**Amazon CloudWatch**: For monitoring table performance, capacity utilization, and alarms.",
                    "**Amazon CloudFront**: For content delivery in conjunction with DynamoDB for dynamic content."
                ],
                techStack: ["NoSQL", "Key-Value", "Document Database", "JSON", "AWS SDKs", "DynamoDB Streams API"],
                pricing: "Pay-per-request (On-demand) or per-provisioned capacity (Provisioned) for reads and writes, and per-GB for storage. Global Tables, DAX, and backup have additional costs.",
                scenarios: [
                    "Web, mobile, and gaming backends requiring high scalability and low latency.",
                    "IoT data ingestion and device state management.",
                    "Real-time bidding and ad tech platforms.",
                    "Session management for e-commerce applications.",
                    "Microservices data persistence."
                ]
            },
            'aurora': {
                name: "Amazon Aurora",
                description: "A MySQL and PostgreSQL-compatible relational database built for the cloud, combining the performance and availability of traditional enterprise databases with the simplicity and cost-effectiveness of open-source databases.",
                features: ["MySQL/PostgreSQL Compatibility", "High Performance", "High Availability & Durability", "Storage Auto-scaling", "Serverless Option"],
                featureDetails: {
                    "MySQL/PostgreSQL Compatibility": {
                        subFeatures: [
                            { title: "Existing Tools", desc: "Works with existing MySQL and PostgreSQL tools, drivers, and applications." },
                            { title: "Code Reusability", desc: "Easily migrate existing databases without significant code changes." },
                            { title: "Open-Source Benefits", desc: "Leverages the community and features of open-source engines." }
                        ],
                        navigation: "RDS Console -> Databases -> Create database -> Choose Amazon Aurora",
                        options: [
                            "Choose between Aurora MySQL Compatible Edition or Aurora PostgreSQL Compatible Edition.",
                            "Select the desired database version."
                        ]
                    },
                    "High Performance": {
                        subFeatures: [
                            { title: "5x MySQL Throughput", desc: "Up to 5 times the throughput of standard MySQL on the same hardware." },
                            { title: "3x PostgreSQL Throughput", desc: "Up to 3 times the throughput of standard PostgreSQL on the same hardware." },
                            { title: "Distributed Storage", desc: "Utilizes a shared, distributed, fault-tolerant storage system." },
                            { title: "Optimized for SSDs", desc: "Built to take full advantage of solid-state drives." }
                        ],
                        navigation: "RDS Console -> Databases -> Select Aurora cluster -> Metrics (CloudWatch)",
                        options: [
                            "Choose appropriate instance sizes (e.g., db.r5.large, db.r6g.xlarge).",
                            "Utilize Read Replicas to scale read capacity."
                        ]
                    },
                    "High Availability & Durability": {
                        subFeatures: [
                            { title: "Multi-AZ Replication", desc: "Automatically replicates data 6 ways across 3 Availability Zones." },
                            { title: "Crash Recovery", desc: "Designed to recover from crashes without losing data." },
                            { title: "Fault-tolerant Storage", desc: "Self-healing storage system that automatically detects and repairs failures." },
                            { title: "Automated Backups", desc: "Continuous backups to S3, enabling point-in-time recovery." }
                        ],
                        navigation: "RDS Console -> Databases -> Create database -> Multi-AZ deployment (inherent for Aurora storage)",
                        options: [
                            "N/A - many high-availability features are built-in."
                        ]
                    },
                    "Storage Auto-scaling": {
                        subFeatures: [
                            { title: "Automatic Storage Growth", desc: "Storage automatically scales up to 128 TB as your data grows." },
                            { title: "No Downtime", desc: "Storage scaling happens without impacting application performance." },
                            { title: "Cost Optimization", desc: "Only pay for the storage you use, no need to over-provision." }
                        ],
                        navigation: "N/A - inherent service property",
                        options: [
                            "N/A"
                        ]
                    },
                    "Serverless Option": {
                        subFeatures: [
                            { title: "Aurora Serverless v2", desc: "Automatically starts, scales, and shuts down database capacity based on application demand." },
                            { title: "Cost-Effective for Bursty Workloads", desc: "Ideal for applications with intermittent or unpredictable workloads." },
                            { title: "Rapid Scaling", desc: "Scales in fractions of a second for quick response to demand changes." }
                        ],
                        navigation: "RDS Console -> Databases -> Create database -> Serverless (Aurora Serverless v2)",
                        options: [
                            "Configure minimum and maximum Aurora Capacity Units (ACUs).",
                            "Set connection limits and scaling policies."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon VPC**: Aurora clusters run within a VPC.",
                    "**AWS KMS**: For encrypting Aurora clusters and snapshots.",
                    "**AWS IAM**: For controlling access to Aurora resources.",
                    "**Amazon CloudWatch**: For monitoring database performance and logs.",
                    "**Amazon S3**: For storing backups and snapshot data.",
                    "**AWS Secrets Manager**: For securely storing database credentials."
                ],
                techStack: ["MySQL", "PostgreSQL", "SQL", "JDBC/ODBC drivers", "Database client tools"],
                pricing: "Pay-per-hour for database instance usage (or ACUs for Serverless), per-GB for storage, and for I/O operations. Data transfer and backups have additional costs.",
                scenarios: [
                    "High-performance web and enterprise applications.",
                    "Online transaction processing (OLTP) workloads.",
                    "SaaS applications with varying workloads.",
                    "Modernizing existing MySQL/PostgreSQL databases."
                ]
            },
            'redshift': {
                name: "Amazon Redshift",
                description: "A fully managed, petabyte-scale cloud data warehouse service that makes it simple and cost-effective to analyze all your data using standard SQL.",
                features: ["Columnar Storage", "Massively Parallel Processing (MPP)", "Serverless Option", "Data Lake Integration", "Concurrency Scaling"],
                featureDetails: {
                    "Columnar Storage": {
                        subFeatures: [
                            { title: "Optimized for Analytics", desc: "Stores data in a columnar format, significantly improving performance for analytical queries." },
                            { title: "Compression", desc: "Achieves high data compression ratios, reducing storage costs and I/O." },
                            { title: "Faster Querying", desc: "Only reads the columns necessary for a query, speeding up performance." }
                        ],
                        navigation: "Redshift Console -> Clusters -> Create cluster (inherent)",
                        options: [
                            "Design your table schema with appropriate sort keys and distribution keys for columnar storage benefits.",
                            "Choose appropriate compression encodings for columns."
                        ]
                    },
                    "Massively Parallel Processing (MPP)": {
                        subFeatures: [
                            { title: "Distributed Architecture", desc: "Distributes and processes data across multiple compute nodes in parallel." },
                            { title: "Scalable Performance", desc: "Scales linearly with the number of nodes, handling petabytes of data." },
                            { title: "Fast Query Execution", desc: "Enables complex analytical queries to run quickly." }
                        ],
                        navigation: "Redshift Console -> Clusters -> Create cluster",
                        options: [
                            "Choose the appropriate node type and number of nodes for your workload (e.g., ra3, dc2, ds2).",
                            "Distribute data evenly across compute nodes using distribution keys."
                        ]
                    },
                    "Serverless Option": {
                        subFeatures: [
                            { title: "Redshift Serverless", desc: "Run and scale your data warehouse without provisioning or managing clusters." },
                            { title: "Automatic Scaling", desc: "Automatically scales compute capacity to meet analytical workload demands." },
                            { title: "Pay-per-use", desc: "Pay only for the compute capacity consumed on a per-second basis." }
                        ],
                        navigation: "Redshift Console -> Serverless -> Create serverless namespace",
                        options: [
                            "Set base and maximum Redshift Processing Units (RPUs).",
                            "Configure network settings and security."
                        ]
                    },
                    "Data Lake Integration": {
                        subFeatures: [
                            { title: "Redshift Spectrum", desc: "Query data directly in Amazon S3 data lakes without loading it into Redshift." },
                            { title: "Unified Analytics", desc: "Combine data from Redshift and S3 for comprehensive analysis." },
                            { title: "Open Formats", desc: "Supports querying open data formats like Parquet, ORC, CSV, JSON." }
                        ],
                        navigation: "Redshift Console -> Query editor v2 -> External schemas",
                        options: [
                            "Create external schemas and tables pointing to S3 data.",
                            "Optimize S3 data (e.g., using Parquet, partitioning) for faster Spectrum queries."
                        ]
                    },
                    "Concurrency Scaling": {
                        subFeatures: [
                            { title: "Automatic Scaling for Concurrent Queries", desc: "Automatically adds capacity to handle bursts of concurrent queries." },
                            { title: "Seamless Integration", desc: "No changes to your application or queries required." },
                            { title: "Optimized for Spikes", desc: "Ideal for unpredictable spikes in analytical demand." }
                        ],
                        navigation: "Redshift Console -> Clusters -> Select cluster -> Configuration -> Concurrency Scaling",
                        options: [
                            "Enable concurrency scaling for your cluster.",
                            "Configure maximum number of scaling credits and usage limits."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon S3**: Primary source for data loading into Redshift and for data lake integration (Redshift Spectrum).",
                    "**AWS Glue**: For ETL and data cataloging for data in S3 and Redshift.",
                    "**Amazon Kinesis Firehose**: For streaming data ingestion into Redshift.",
                    "**Amazon QuickSight**: For business intelligence and visualization of Redshift data.",
                    "**AWS IAM**: For controlling access to Redshift clusters and data.",
                    "**Amazon CloudWatch**: For monitoring Redshift performance and usage.",
                    "**VPC**: Redshift clusters operate within a VPC."
                ],
                techStack: ["SQL", "JDBC/ODBC drivers", "Python (for ETL)", "JSON/CSV/Parquet/ORC data formats"],
                pricing: "Node-based: Pay-per-hour for compute nodes and per-GB for storage. Redshift Serverless: Pay-per-RPU-hour for compute capacity and per-GB for storage. Redshift Spectrum and Concurrency Scaling have separate pricing.",
                scenarios: [
                    "Centralizing data from various sources for business intelligence.",
                    "Performing complex analytical queries on large datasets.",
                    "Building dashboards and reports.",
                    "Real-time analytics on streaming data."
                ]
            },
            'vpc': {
                name: "Amazon VPC (Virtual Private Cloud)",
                description: "Lets you provision a logically isolated section of the AWS Cloud where you can launch AWS resources in a virtual network that you define.",
                features: ["Subnets", "Route Tables", "Internet Gateways", "Security Groups", "Network ACLs", "VPC Endpoints"],
                featureDetails: {
                    "Subnets": {
                        subFeatures: [
                            { title: "Network Segmentation", desc: "Divide your VPC into one or more subnets for organizing resources and controlling network flow." },
                            { title: "Public vs. Private", desc: "Public subnets allow direct internet access; private subnets are isolated." },
                            { title: "Availability Zones", desc: "Each subnet resides entirely within one Availability Zone." }
                        ],
                        navigation: "VPC Console -> Subnets -> Create subnet",
                        options: [
                            "Define CIDR blocks for each subnet (e.g., 10.0.1.0/24).",
                            "Choose the Availability Zone for each subnet."
                        ]
                    },
                    "Route Tables": {
                        subFeatures: [
                            { title: "Traffic Routing", desc: "Determine where network traffic from your subnets or gateways is directed." },
                            { title: "Local Routes", desc: "Default route enables communication within the VPC." },
                            { title: "Custom Routes", desc: "Define routes to the internet, VPNs, or other VPCs." }
                        ],
                        navigation: "VPC Console -> Route Tables -> Create route table",
                        options: [
                            "Associate route tables with specific subnets.",
                            "Add routes for Internet Gateway (0.0.0.0/0 to igw-xxxx), NAT Gateway, or VPC peering connections."
                        ]
                    },
                    "Internet Gateways": {
                        subFeatures: [
                            { title: "Internet Connectivity", desc: "Enables communication between your VPC and the internet." },
                            { title: "Highly Available", desc: "A horizontally scaled, redundant, and highly available VPC component." },
                            { title: "Public IPs", desc: "Required for instances in public subnets to have public IP addresses." }
                        ],
                        navigation: "VPC Console -> Internet Gateways -> Create internet gateway",
                        options: [
                            "Attach the Internet Gateway to your VPC.",
                            "Add a default route to the Internet Gateway in the public subnet's route table."
                        ]
                    },
                    "Security Groups": {
                        subFeatures: [
                            { title: "Instance-Level Firewall", desc: "Acts as a virtual firewall for your EC2 instances and other resources." },
                            { title: "Stateful", desc: "Remembers previous traffic, allowing return traffic automatically." },
                            { title: "Allow Rules Only", desc: "You only define 'allow' rules; implicit 'deny all' for traffic not explicitly allowed." }
                        ],
                        navigation: "EC2 Console -> Security Groups -> Create security group",
                        options: [
                            "Define inbound rules (e.g., allow SSH from specific IP, HTTP/HTTPS from anywhere).",
                            "Define outbound rules (e.g., allow all outbound traffic or restrict to specific ports/IPs)."
                        ]
                    },
                    "Network ACLs": {
                        subFeatures: [
                            { title: "Subnet-Level Firewall", desc: "Optional layer of security that acts as a stateless firewall for subnets." },
                            { title: "Numbered Rules", desc: "Rules are evaluated in order, and the first matching rule is applied." },
                            { title: "Allow and Deny Rules", desc: "You can explicitly allow or deny traffic." }
                        ],
                        navigation: "VPC Console -> Network ACLs -> Create network ACL",
                        options: [
                            "Define inbound and outbound rules with rule numbers (lower numbers are evaluated first).",
                            "Associate ACLs with specific subnets."
                        ]
                    },
                    "VPC Endpoints": {
                        subFeatures: [
                            { title: "Private Connectivity", desc: "Connect your VPC to AWS services (e.g., S3, DynamoDB, SageMaker) privately without using the public internet." },
                            { title: "Interface Endpoints (PrivateLink)", desc: "Powered by AWS PrivateLink, provides elastic network interfaces (ENIs) in your VPC." },
                            { title: "Gateway Endpoints", desc: "Provides a gateway to S3 and DynamoDB from your VPC (legacy for these two)." }
                        ],
                        navigation: "VPC Console -> Endpoints -> Create endpoint",
                        options: [
                            "Choose service name (e.g., com.amazonaws.region.s3, com.amazonaws.region.dynamodb).",
                            "Select VPC and subnets for the endpoint.",
                            "Attach security groups and endpoint policies for granular control."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon EC2**: Instances launch within a VPC.",
                    "**Elastic Load Balancing (ELB)**: Deploys into a VPC.",
                    "**Amazon RDS**: Databases launch into a VPC.",
                    "**AWS Lambda**: Functions can access resources in a VPC.",
                    "**Amazon S3/DynamoDB**: Can be accessed privately via VPC Endpoints.",
                    "**AWS IAM**: For controlling who can create and manage VPC resources.",
                    "**Amazon CloudWatch**: For monitoring VPC Flow Logs and network performance.",
                    "**AWS Direct Connect/VPN**: For connecting on-premises networks to a VPC."
                ],
                techStack: ["Networking concepts (CIDR, IP addresses)", "Routing", "Firewalls"],
                pricing: "No direct charge for VPC itself. You pay for associated resources like NAT Gateways, VPN connections, VPC Endpoints, and data transfer.",
                scenarios: [
                    "Creating isolated environments for different applications.",
                    "Building hybrid cloud architectures.",
                    "Implementing strict network security and compliance.",
                    "Deploying multi-tier applications with distinct network segments."
                ]
            },
            'route53': {
                name: "Amazon Route 53",
                description: "A highly available and scalable cloud Domain Name System (DNS) web service.",
                features: ["Domain Registration", "DNS Routing", "Health Checks", "Traffic Flow", "Private DNS"],
                featureDetails: {
                    "Domain Registration": {
                        subFeatures: [
                            { title: "Buy Domains", desc: "Register new domain names directly through Route 53." },
                            { title: "Transfer Domains", desc: "Transfer existing domain names to Route 53." },
                            { title: "Manage Domains", desc: "Easily manage all your domains in one place." }
                        ],
                        navigation: "Route 53 Console -> Registered domains -> Register domain",
                        options: [
                            "Search for available domain names and choose TLDs (e.g., .com, .net).",
                            "Configure auto-renew settings for domains."
                        ]
                    },
                    "DNS Routing": {
                        subFeatures: [
                            { title: "Simple Routing", desc: "Route traffic to a single resource." },
                            { title: "Weighted Routing", desc: "Distribute traffic based on specified weights." },
                            { title: "Latency-based Routing", desc: "Route traffic to the region that provides the lowest latency for your users." },
                            { title: "Geolocation Routing", desc: "Route traffic based on the geographic location of your users." },
                            { title: "Failover Routing", desc: "Automatically route traffic to a healthy resource when the primary resource becomes unhealthy." },
                            { title: "Multivalue Answer Routing", desc: "Respond to DNS queries with up to 8 healthy records selected at random." }
                        ],
                        navigation: "Route 53 Console -> Hosted zones -> Create record",
                        options: [
                            "Choose the appropriate routing policy for your application's requirements.",
                            "Associate health checks with failover and latency routing policies."
                        ]
                    },
                    "Health Checks": {
                        subFeatures: [
                            { title: "Endpoint Monitoring", desc: "Monitor the health of your application endpoints (e.g., EC2 instances, ELB, S3)." },
                            { title: "Automated Failover", desc: "Integrate with DNS routing policies for automatic failover to healthy endpoints." },
                            { title: "CloudWatch Alarms", desc: "Send alerts when an endpoint becomes unhealthy." }
                        ],
                        navigation: "Route 53 Console -> Health checks -> Create health check",
                        options: [
                            "Specify protocol (HTTP, HTTPS, TCP), port, and path for health checks.",
                            "Configure request interval and failure threshold."
                        ]
                    },
                    "Traffic Flow": {
                        subFeatures: [
                            { title: "Visual Editor", desc: "Create complex routing policies using a drag-and-drop visual editor." },
                            { title: "Version Control", desc: "Manage different versions of your routing policies." },
                            { title: "Policy Records", desc: "Associate traffic policies with DNS records." }
                        ],
                        navigation: "Route 53 Console -> Traffic policies -> Create traffic policy",
                        options: [
                            "Build advanced routing logic combining multiple routing policies (e.g., Weighted + Latency).",
                            "Test traffic policies before applying them to production."
                        ]
                    },
                    "Private DNS": {
                        subFeatures: [
                            { title: "Private Hosted Zones", desc: "Manage DNS for resources within your VPC without exposing them to the internet." },
                            { title: "VPC Association", desc: "Associate private hosted zones with one or more VPCs." },
                            { title: "Hybrid DNS", desc: "Integrate with on-premises DNS using Route 53 Resolver Endpoints." }
                        ],
                        navigation: "Route 53 Console -> Hosted zones -> Create hosted zone -> For VPC (private network)",
                        options: [
                            "Create private hosted zones for internal services and resources.",
                            "Configure DNS resolvers for your VPCs to use Route 53 private hosted zones."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon EC2/ELB/S3/CloudFront**: Common targets for DNS records.",
                    "**Amazon VPC**: Private hosted zones are associated with VPCs.",
                    "**AWS IAM**: For controlling access to Route 53 resources.",
                    "**Amazon CloudWatch**: For monitoring health checks and DNS queries.",
                    "**AWS Organizations**: For managing Route 53 across multiple accounts.",
                    "**AWS Direct Connect/VPN**: For hybrid DNS solutions with on-premises networks."
                ],
                techStack: ["DNS records (A, AAAA, CNAME, MX, TXT, NS, SOA, PTR)", "DNS protocols", "Route 53 API"],
                pricing: "Pay-per-registered domain, per-hosted zone, and per-DNS query. Health checks and traffic policies have separate costs.",
                scenarios: [
                    "Hosting domain names for websites and applications.",
                    "Routing user traffic to the closest or healthiest endpoint.",
                    "Implementing disaster recovery and high availability for applications.",
                    "Managing internal DNS for resources within a private network."
                ]
            },
            'cloudfront': {
                name: "Amazon CloudFront",
                description: "A fast content delivery network (CDN) service that securely delivers data, videos, applications, and APIs to customers globally with low latency and high transfer speeds.",
                features: ["Global Edge Network", "Security (WAF, SSL/TLS)", "Caching", "Origin Shield", "Lambda@Edge"],
                featureDetails: {
                    "Global Edge Network": {
                        subFeatures: [
                            { title: "Edge Locations", desc: "Globally distributed network of data centers that cache content closer to users." },
                            { title: "Low Latency", desc: "Reduces latency by serving content from the nearest edge location." },
                            { title: "High Throughput", desc: "Improves content delivery speed for end-users." }
                        ],
                        navigation: "CloudFront Console -> Distributions -> Create distribution (inherent)",
                        options: [
                            "No specific configuration for the global network; it's part of the service's architecture."
                        ]
                    },
                    "Security (WAF, SSL/TLS)": {
                        subFeatures: [
                            { title: "AWS WAF Integration", desc: "Integrates with AWS WAF (Web Application Firewall) to protect against common web exploits." },
                            { title: "SSL/TLS Support", desc: "Supports custom SSL certificates and automatically negotiates SSL/TLS with viewers and origins." },
                            { title: "DDoS Protection", desc: "Provides built-in DDoS protection through AWS Shield Standard." }
                        ],
                        navigation: "CloudFront Console -> Distributions -> Select distribution -> General -> Settings (for SSL certificate) / AWS WAF Console",
                        options: [
                            "Associate an AWS WAF Web ACL with your CloudFront distribution.",
                            "Upload custom SSL certificates (via ACM) for custom domains."
                        ]
                    },
                    "Caching": {
                        subFeatures: [
                            { title: "Edge Caching", desc: "Caches content at edge locations to serve frequently accessed content faster." },
                            { title: "Cache Behavior", desc: "Configure how CloudFront caches content based on URL paths, query strings, and headers." },
                            { title: "Cache Invalidation", desc: "Invalidate cached content from edge locations when needed." }
                        ],
                        navigation: "CloudFront Console -> Distributions -> Select distribution -> Behaviors -> Create behavior",
                        options: [
                            "Define cache key settings (cookies, headers, query strings).",
                            "Set Time To Live (TTL) for cached objects (min TTL, max TTL, default TTL).",
                            "Use invalidations sparingly, as they are chargeable."
                        ]
                    },
                    "Origin Shield": {
                        subFeatures: [
                            { title: "Centralized Caching Layer", desc: "An additional caching layer between your origins and CloudFront edge locations." },
                            { title: "Reduced Origin Load", desc: "Minimizes the load on your origin server by serving more requests from cache." },
                            { title: "Improved Cache Hit Ratio", desc: "Increases the overall cache hit ratio across your distribution." }
                        ],
                        navigation: "CloudFront Console -> Distributions -> Select distribution -> Origins -> Select origin -> Edit -> Origin Shield",
                        options: [
                            "Enable Origin Shield for frequently accessed origins.",
                            "Choose the AWS Region for your Origin Shield cache."
                        ]
                    },
                    "Lambda@Edge": {
                        subFeatures: [
                            { title: "Custom Logic at Edge", desc: "Run Lambda functions at CloudFront edge locations to customize content delivery." },
                            { title: "Viewer & Origin Events", desc: "Trigger functions on viewer requests, viewer responses, origin requests, or origin responses." },
                            { title: "Real-time Customization", desc: "Modify requests/responses, personalize content, or perform access control." }
                        ],
                        navigation: "Lambda Console -> Functions -> Create function (select 'Publish to Lambda@Edge')",
                        options: [
                            "Deploy Lambda@Edge functions to the 'us-east-1' region.",
                            "Associate functions with specific cache behaviors and event types."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon S3**: Common origin for static content and static website hosting.",
                    "**Elastic Load Balancing (ELB)**: Origin for dynamic web applications.",
                    "**AWS WAF**: For protecting against web exploits.",
                    "**AWS Certificate Manager (ACM)**: For managing SSL/TLS certificates for custom domains.",
                    "**AWS Lambda**: For running custom logic at the edge (Lambda@Edge).",
                    "**AWS IAM**: For controlling access to CloudFront distributions.",
                    "**Amazon CloudWatch**: For monitoring CloudFront metrics and logs.",
                    "**Amazon Route 53**: For routing DNS traffic to CloudFront distributions."
                ],
                techStack: ["HTTP/HTTPS", "Caching protocols", "SSL/TLS", "DNS", "Lambda (Node.js/Python)"],
                pricing: "Pay-per-GB for data transfer out from CloudFront edge locations and per-request for HTTP/HTTPS requests. Varies by region.",
                scenarios: [
                    "Accelerating website and web application delivery.",
                    "Distributing streaming video and audio content.",
                    "Securing web applications with WAF and SSL/TLS.",
                    "Personalizing content at the edge for global users.",
                    "Reducing load on origin servers."
                ]
            },
            'api-gateway': {
                name: "Amazon API Gateway",
                description: "A fully managed service that makes it easy for developers to create, publish, maintain, monitor, and secure APIs at any scale.",
                features: ["REST APIs", "WebSocket APIs", "HTTP APIs", "Authentication/Authorization", "Throttling", "Caching", "Monitoring"],
                featureDetails: {
                    "REST APIs": {
                        subFeatures: [
                            { title: "Create HTTP APIs", desc: "Build RESTful APIs to expose backend services (Lambda, EC2, HTTP endpoints)." },
                            { title: "Resource & Method Definitions", desc: "Define API resources (e.g., /users, /products) and HTTP methods (GET, POST, PUT, DELETE)." },
                            { title: "Request/Response Mapping", desc: "Transform data between client requests and backend responses." }
                        ],
                        navigation: "API Gateway Console -> REST APIs -> Create API",
                        options: [
                            "Choose integration type (Lambda function, HTTP, Mock, AWS Service).",
                            "Configure request and response mapping templates (Velocity Template Language - VTL)."
                        ]
                    },
                    "WebSocket APIs": {
                        subFeatures: [
                            { title: "Real-time Communication", desc: "Enable full-duplex communication between clients and backend services." },
                            { title: "Stateful Connections", desc: "Maintain persistent connections for real-time applications (chat, gaming)." },
                            { title: "Route Selection Expressions", desc: "Define how messages are routed to backend integrations." }
                        ],
                        navigation: "API Gateway Console -> WebSocket APIs -> Create API",
                        options: [
                            "Define routes for `$connect`, `$disconnect`, `$default`, and custom messages.",
                            "Integrate with Lambda functions for backend logic."
                        ]
                    },
                    "HTTP APIs": {
                        subFeatures: [
                            { title: "Low-Latency & Cost-Effective", desc: "Designed for high-performance and cost optimization for simple HTTP APIs." },
                            { title: "Simplified Features", desc: "Faster API creation with fewer configuration options compared to REST APIs." },
                            { title: "Integrations", desc: "Supports Lambda proxy integration and HTTP integrations." }
                        ],
                        navigation: "API Gateway Console -> HTTP APIs -> Create API",
                        options: [
                            "Choose integration type (Lambda, HTTP, mock).",
                            "Configure routes and stages."
                        ]
                    },
                    "Authentication/Authorization": {
                        subFeatures: [
                            { title: "IAM Roles & Policies", desc: "Control access to API methods using AWS IAM." },
                            { title: "Amazon Cognito User Pools", desc: "Integrate with Cognito for user authentication and token management." },
                            { title: "Lambda Authorizers", desc: "Custom authorization logic implemented as Lambda functions." }
                        ],
                        navigation: "API Gateway Console -> Select API -> Authorizers / Resource -> Method Request -> Authorization",
                        options: [
                            "Configure different authorization types for API methods.",
                            "Implement custom authorizer logic in Lambda for fine-grained control."
                        ]
                    },
                    "Throttling": {
                        subFeatures: [
                            { title: "Rate Limiting", desc: "Control the number of requests clients can submit to your API per second." },
                            { title: "Burst Capacity", desc: "Allow a temporary burst of requests above the steady rate." },
                            { title: "Usage Plans", desc: "Create usage plans to provide different throttle limits for API consumers." }
                        ],
                        navigation: "API Gateway Console -> Usage plans -> Create usage plan",
                        options: [
                            "Define default method throttling for API stages.",
                            "Create usage plans for specific API keys."
                        ]
                    },
                    "Caching": {
                        subFeatures: [
                            { title: "API Caching", desc: "Cache API responses at the API Gateway level to reduce load on backend and latency for clients." },
                            { title: "Custom Cache Keys", desc: "Define which parameters are used as part of the cache key." },
                            { title: "Cache Invalidation", desc: "Invalidate cached responses when backend data changes." }
                        ],
                        navigation: "API Gateway Console -> Select API -> Stages -> Select stage -> Cache Settings",
                        options: [
                            "Enable API caching for specific methods or stages.",
                            "Configure cache capacity and Time To Live (TTL)."
                        ]
                    },
                    "Monitoring": {
                        subFeatures: [
                            { title: "CloudWatch Integration", desc: "Automatically sends metrics (latency, errors, requests) and access logs to CloudWatch." },
                            { title: "Dashboard Creation", desc: "Build custom dashboards to visualize API performance." },
                            { title: "Alarms", desc: "Set up alarms for critical API metrics (e.g., latency spikes, error rates)." }
                        ],
                        navigation: "API Gateway Console -> Select API -> Stages -> Select stage -> Logs/Monitoring",
                        options: [
                            "Enable detailed CloudWatch metrics and access logging.",
                            "Configure log groups and IAM roles for logging."
                        ]
                    }
                },
                interdependencies: [
                    "**AWS Lambda**: Very common backend integration for serverless APIs.",
                    "**Amazon EC2**: Can integrate with EC2 instances running web servers or applications.",
                    "**AWS IAM**: For securing API access and defining roles for API Gateway.",
                    "**Amazon Cognito**: For user authentication and authorization.",
                    "**Amazon CloudWatch**: For monitoring and logging API requests.",
                    "**AWS WAF**: For protecting APIs against common web exploits.",
                    "**AWS Secrets Manager**: For securely managing API keys and credentials.",
                    "**AWS Step Functions**: For orchestrating complex workflows behind APIs."
                ],
                techStack: ["RESTful API design", "HTTP/HTTPS", "JSON/XML", "VTL (Velocity Template Language)", "WebSocket protocol"],
                pricing: "Pay-per-million API calls and per-GB for data transfer out. Caching, Custom Authorizers, and VPC Link have additional costs.",
                scenarios: [
                    "Building serverless APIs for web and mobile applications.",
                    "Exposing microservices as managed APIs.",
                    "Creating real-time communication applications (chat, IoT dashboards).",
                    "Integrating with third-party applications via secure APIs.",
                    "Modernizing legacy applications with API facades."
                ]
            },
            'iam': {
                name: "AWS IAM (Identity and Access Management)",
                description: "Enables you to securely control access to AWS services and resources for your users. You can create and manage AWS users and groups, and use permissions to allow and deny their access to AWS resources.",
                features: ["Users & Groups", "Roles", "Policies", "MFA", "Access Keys & Secret Keys", "Identity Federation"],
                featureDetails: {
                    "Users & Groups": {
                        subFeatures: [
                            { title: "IAM Users", desc: "Permanent identities representing a person or application that interacts with AWS." },
                            { title: "IAM Groups", desc: "A collection of IAM users; easier to manage permissions for multiple users." },
                            { title: "Programmatic & Console Access", desc: "Configure access type (API access with keys, console access with password)." }
                        ],
                        navigation: "IAM Console -> Users / Groups",
                        options: [
                            "Grant least privilege: only the permissions necessary to perform a task.",
                            "Rotate access keys regularly for security."
                        ]
                    },
                    "Roles": {
                        subFeatures: [
                            { title: "Temporary Permissions", desc: "Grant temporary permissions to trusted entities (users, applications, services) without long-term credentials." },
                            { title: "Trust Policies", desc: "Define which entities are allowed to assume the role." },
                            { title: "Use Cases", desc: "Ideal for granting cross-account access, access to EC2 instances, or Lambda functions." }
                        ],
                        navigation: "IAM Console -> Roles -> Create role",
                        options: [
                            "Choose trusted entity (e.g., 'AWS service', 'Another AWS account', 'Web identity', 'SAML 2.0 federation').",
                            "Attach permission policies to define what the role can do."
                        ]
                    },
                    "Policies": {
                        subFeatures: [
                            { title: "Permission Documents", desc: "JSON documents that define permissions for users, groups, or roles." },
                            { title: "Managed Policies", desc: "AWS-managed policies for common use cases." },
                            { title: "Customer Managed Policies", desc: "Custom policies created by you for specific needs." },
                            { title: "Inline Policies", desc: "Policies embedded directly into a user, group, or role." }
                        ],
                        navigation: "IAM Console -> Policies -> Create policy",
                        options: [
                            "Use the visual editor or JSON editor to define actions, resources, and conditions.",
                            "Prioritize explicit DENY over explicit ALLOW."
                        ]
                    },
                    "MFA": {
                        subFeatures: [
                            { title: "Multi-Factor Authentication", desc: "Adds an extra layer of security requiring a second factor (e.g., virtual MFA device, hardware token)." },
                            { title: "Enhanced Login Security", desc: "Protects against unauthorized access even if passwords are compromised." },
                            { title: "IAM Users & Root Account", desc: "Strongly recommended for all IAM users and especially the root account." }
                        ],
                        navigation: "IAM Console -> Users -> Select user -> Security credentials -> Assign MFA device",
                        options: [
                            "Enforce MFA for all console access for better security.",
                            "Use MFA for sensitive API operations."
                        ]
                    },
                    "Access Keys & Secret Keys": {
                        subFeatures: [
                            { title: "Programmatic Access", desc: "Used by the AWS CLI, SDKs, and API calls to authenticate." },
                            { title: "Long-lived Credentials", desc: "Static credentials for users (IAM best practice is to use roles where possible)." },
                            { title: "Security Risk", desc: "Should be rotated regularly and never hardcoded or shared." }
                        ],
                        navigation: "IAM Console -> Users -> Select user -> Security credentials",
                        options: [
                            "Rotate access keys frequently.",
                            "Use temporary credentials (via roles) instead of long-lived access keys for applications."
                        ]
                    },
                    "Identity Federation": {
                        subFeatures: [
                            { title: "External Identity Providers", desc: "Allow users to authenticate using existing corporate directories (e.g., Active Directory) or public identity providers (e.g., Google, Facebook)." },
                            { title: "SAML 2.0", desc: "Industry standard for exchanging authentication and authorization data." },
                            { title: "Web Identity Federation", desc: "For mobile and web applications to authenticate with public IdPs." }
                        ],
                        navigation: "IAM Console -> Identity providers -> Add provider",
                        options: [
                            "Configure trust relationships between your IdP and AWS.",
                            "Map attributes from your IdP to IAM roles for fine-grained access."
                        ]
                    }
                },
                interdependencies: [
                    "**All AWS Services**: IAM is fundamental for securing access to every AWS service.",
                    "**AWS Organizations**: For centrally managing IAM policies across multiple AWS accounts.",
                    "**AWS CloudTrail**: To log all API calls made, including those governed by IAM policies, for auditing.",
                    "**AWS Single Sign-On (SSO)**: Simplifies managing access to multiple AWS accounts and business applications.",
                    "**AWS Secrets Manager**: For securely managing credentials that IAM users/roles might need to access."
                ],
                techStack: ["JSON (for policies)", "AWS CLI", "AWS SDKs", "SAML 2.0", "OIDC (OpenID Connect)"],
                pricing: "No direct cost for IAM. You only pay for the AWS resources that your users and applications access.",
                scenarios: [
                    "Controlling which users can launch EC2 instances or access S3 buckets.",
                    "Granting a Lambda function permission to read from a DynamoDB table.",
                    "Providing secure access for developers to specific AWS resources.",
                    "Integrating with corporate identity systems for single sign-on."
                ]
            },
            'cloudwatch': {
                name: "Amazon CloudWatch",
                description: "A monitoring and observability service that provides data and actionable insights to monitor your applications, respond to system-wide performance changes, and optimize resource utilization.",
                features: ["Metrics", "Logs", "Alarms", "Dashboards", "Events", "Container Insights", "Synthetics"],
                featureDetails: {
                    "Metrics": {
                        subFeatures: [
                            { title: "Collect Metrics", desc: "Automatically collects metrics from AWS services (EC2 CPU utilization, S3 bucket size, Lambda invocations) and custom applications." },
                            { title: "Granular Data", desc: "Provides high-resolution metric data (1-minute or 1-second intervals)." },
                            { title: "Retention", desc: "Retains metric data for 15 months." }
                        ],
                        navigation: "CloudWatch Console -> Metrics -> All metrics",
                        options: [
                            "Explore metrics by service and dimension.",
                            "Publish custom metrics from your applications using the CloudWatch API or SDKs."
                        ]
                    },
                    "Logs": {
                        subFeatures: [
                            { title: "Centralized Logging", desc: "Collects, monitors, and stores log files from various sources (EC2, Lambda, CloudTrail, VPC Flow Logs)." },
                            { title: "Log Groups & Streams", desc: "Organizes logs into logical groups and ordered streams." },
                            { title: "Real-time Monitoring", desc: "Set up subscription filters to process log data in real-time." },
                            { title: "Log Insights", desc: "Interact and analyze your log data using a powerful query language." }
                        ],
                        navigation: "CloudWatch Console -> Log groups / Log Insights",
                        options: [
                            "Configure log retention policies for cost optimization.",
                            "Create metric filters to extract numerical data from logs and create metrics."
                        ]
                    },
                    "Alarms": {
                        subFeatures: [
                            { title: "Trigger Actions", desc: "Send notifications (SNS), invoke Lambda functions, or auto-scale EC2 instances when metrics cross defined thresholds." },
                            { title: "Multiple States", desc: "Alarms can be in OK, ALARM, or INSUFFICIENT_DATA states." },
                            { title: "Composite Alarms", desc: "Combine multiple alarms into a single alarm." }
                        ],
                        navigation: "CloudWatch Console -> Alarms -> Create alarm",
                        options: [
                            "Define static or anomaly detection thresholds for metrics.",
                            "Configure notification actions (e.g., email, SMS, Slack integration via Lambda)."
                        ]
                    },
                    "Dashboards": {
                        subFeatures: [
                            { title: "Visual Monitoring", desc: "Create customizable dashboards to visualize your metrics and logs in one place." },
                            { title: "Real-time Data", desc: "Dashboards update in real-time, providing an up-to-date view of your environment." },
                            { title: "Shareable", desc: "Share dashboards with team members or stakeholders." }
                        ],
                        navigation: "CloudWatch Console -> Dashboards -> Create dashboard",
                        options: [
                            "Add widgets for metrics, logs, alarms, and text.",
                            "Arrange and resize widgets to create meaningful layouts."
                        ]
                    },
                    "Events": {
                        subFeatures: [
                            { title: "EventBridge (formerly CloudWatch Events)", desc: "Delivers a near real-time stream of system events that describe changes in AWS resources." },
                            { title: "Rules & Targets", desc: "Define rules to match events and route them to targets (e.g., Lambda, SNS, SQS)." },
                            { title: "Scheduled Events", desc: "Trigger events on a schedule (e.g., cron jobs)." }
                        ],
                        navigation: "CloudWatch Console -> EventBridge -> Rules",
                        options: [
                            "Create rules for specific AWS service events or custom application events.",
                            "Configure multiple targets for a single rule."
                        ]
                    },
                    "Container Insights": {
                        subFeatures: [
                            { title: "Container Monitoring", desc: "Monitors, troubleshoots, and alarms on containerized applications and microservices." },
                            { title: "ECS/EKS/Fargate Support", desc: "Provides detailed metrics and logs for container performance and resource utilization." },
                            { title: "Automated Dashboards", desc: "Generates automated dashboards for clusters, tasks, services, and pods." }
                        ],
                        navigation: "CloudWatch Console -> Container Insights",
                        options: [
                            "Enable Container Insights for your ECS/EKS clusters.",
                            "Explore pre-built dashboards for quick insights."
                        ]
                    },
                    "Synthetics": {
                        subFeatures: [
                            { title: "Canaries", desc: "Create configurable scripts to monitor your endpoints and APIs from outside your VPC." },
                            { title: "Proactive Monitoring", desc: "Simulate user actions to detect issues before they impact real users." },
                            { title: "Metrics & Screenshots", desc: "Collect performance metrics, screenshots, and HAR files for debugging." },
                        ],
                        navigation: "CloudWatch Console -> Synthetics -> Canaries -> Create canary",
                        options: [
                            "Choose script type (e.g., Broken Link Checker, API Canary, UI Canary).",
                            "Configure frequency, alarms, and execution locations."
                        ]
                    }
                },
                interdependencies: [
                    "**All AWS Services**: Integrates with virtually all AWS services to collect metrics and logs.",
                    "**AWS Lambda**: Can be invoked by CloudWatch Alarms or EventBridge rules.",
                    "**Amazon SNS/SQS**: For notifications and queuing events from CloudWatch.",
                    "**AWS IAM**: For controlling permissions for CloudWatch resources and actions.",
                    "**AWS Config**: For evaluating resource configurations and feeding events to CloudWatch.",
                    "**AWS CloudTrail**: Sends API call logs to CloudWatch Logs."
                ],
                techStack: ["Metrics", "Logs", "Alarms", "Dashboards", "Event-driven architecture"],
                pricing: "Pay-per-metric, per-GB for log ingestion and storage, per-alarm, and per-event for EventBridge. Synthetics and Container Insights have separate pricing.",
                scenarios: [
                    "Monitoring CPU utilization of EC2 instances and auto-scaling.",
                    "Collecting and analyzing application logs for troubleshooting.",
                    "Setting up alarms for critical application errors or performance degradation.",
                    "Creating dashboards to visualize the health of your entire AWS environment.",
                    "Automating responses to infrastructure changes or security events."
                ]
            },
            'cloudformation': {
                name: "AWS CloudFormation",
                description: "Provides a common language for you to describe and provision all the infrastructure resources in your cloud environment. It allows you to use a simple text file to model and provision, in an automated and secure manner, all the resources needed for your applications.",
                features: ["Infrastructure as Code (IaC)", "Template-based", "Automated Provisioning", "Change Management", "Drift Detection"],
                featureDetails: {
                    "Infrastructure as Code (IaC)": {
                        subFeatures: [
                            { title: "Declarative Language", desc: "Define your AWS infrastructure in code (YAML or JSON) rather than manually clicking in the console." },
                            { title: "Version Control", desc: "Store your infrastructure definitions in version control systems (Git)." },
                            { title: "Repeatable Deployments", desc: "Create identical environments consistently and reliably." }
                        ],
                        navigation: "CloudFormation Console -> Stacks -> Create stack",
                        options: [
                            "Write CloudFormation templates in YAML or JSON.",
                            "Use CloudFormation Designer for a visual representation of your templates."
                        ]
                    },
                    "Template-based": {
                        subFeatures: [
                            { title: "Resource Definitions", desc: "Define AWS resources (EC2, S3, RDS, etc.) and their properties within templates." },
                            { title: "Parameters", desc: "Input values that allow you to customize your templates at runtime." },
                            { title: "Outputs", desc: "Values returned from your stack that can be used by other stacks or applications." },
                            { title: "Mappings & Conditions", desc: "Conditional logic and lookup tables for flexible deployments." }
                        ],
                        navigation: "CloudFormation Console -> Stacks -> Create stack -> Upload template file",
                        options: [
                            "Use CloudFormation's intrinsic functions (e.g., `Fn::Sub`, `Fn::Join`, `Fn::GetAtt`) for dynamic values.",
                            "Organize templates into modular, reusable components."
                        ]
                    },
                    "Automated Provisioning": {
                        subFeatures: [
                            { title: "Stack Creation", desc: "Provision a collection of resources (stack) from a single template." },
                            { title: "Automated Rollback", desc: "Automatically rolls back changes if an error occurs during provisioning or updates." },
                            { title: "Dependency Management", desc: "CloudFormation automatically handles resource dependencies." }
                        ],
                        navigation: "CloudFormation Console -> Stacks -> Create stack",
                        options: [
                            "Specify the stack name, parameters, and IAM role for deployment.",
                            "Review change sets before applying updates to production stacks."
                        ]
                    },
                    "Change Management": {
                        subFeatures: [
                            { title: "Change Sets", desc: "Preview proposed changes to your stack before applying them, helping to understand the impact." },
                            { title: "Stack Updates", desc: "Update existing stacks by modifying the template." },
                            { title: "Nested Stacks", desc: "Create modular, reusable components by embedding stacks within other stacks." }
                        ],
                        navigation: "CloudFormation Console -> Stacks -> Select stack -> Stack actions -> Create change set",
                        options: [
                            "Always create a change set before updating a production stack.",
                            "Use nested stacks for organizing complex architectures into logical units."
                        ]
                    },
                    "Drift Detection": {
                        subFeatures: [
                            { title: "Detect Configuration Drift", desc: "Identifies when actual stack resources deviate from their intended configuration defined in the CloudFormation template." },
                            { title: "Proactive Monitoring", desc: "Helps maintain configuration compliance and consistency." },
                            { title: "Resource Property Comparison", desc: "Compares current resource properties to template-defined properties." }
                        ],
                        navigation: "CloudFormation Console -> Stacks -> Select stack -> Stack actions -> Detect drift",
                        options: [
                            "Regularly run drift detection on your production stacks.",
                            "Remediate identified drift by updating the stack or reverting manual changes."
                        ]
                    }
                },
                interdependencies: [
                    "**All AWS Services**: CloudFormation can provision almost any AWS resource.",
                    "**AWS S3**: For storing CloudFormation templates.",
                    "**AWS IAM**: For defining permissions for CloudFormation to provision resources.",
                    "**AWS CodePipeline/CodeBuild/CodeDeploy**: For automating CI/CD pipelines for infrastructure deployments.",
                    "**AWS Config**: For monitoring resource configurations created by CloudFormation.",
                    "**AWS Systems Manager**: For managing instances created by CloudFormation."
                ],
                techStack: ["YAML", "JSON", "AWS CLI", "AWS SDKs", "Git"],
                pricing: "No direct cost for CloudFormation. You pay for the AWS resources provisioned by your templates.",
                scenarios: [
                    "Automating the provisioning of application environments (development, staging, production).",
                    "Implementing disaster recovery strategies by replicating infrastructure.",
                    "Managing infrastructure changes in a controlled and versioned manner.",
                    "Onboarding new teams with predefined infrastructure templates.",
                    "Building a continuous integration and continuous delivery (CI/CD) pipeline for infrastructure."
                ]
            },
            'organizations': {
                name: "AWS Organizations",
                description: "Helps you centrally manage and govern your environment as you grow and scale your AWS resources. Using AWS Organizations, you can programmatically create new AWS accounts, group accounts to organize your workflows, and apply policies to those accounts to govern access.",
                features: ["Consolidated Billing", "Account Management", "Service Control Policies (SCPs)", "Centralized Control", "Resource Sharing"],
                featureDetails: {
                    "Consolidated Billing": {
                        subFeatures: [
                            { title: "Single Bill", desc: "Receive a single bill for all AWS accounts in your organization." },
                            { title: "Volume Discounts", desc: "Benefit from aggregated usage across accounts for lower pricing tiers." },
                            { title: "Cost Allocation", desc: "Easily track and allocate costs to individual accounts or departments." }
                        ],
                        navigation: "AWS Organizations Console -> Consolidated billing",
                        options: [
                            "Enable consolidated billing when you create an organization.",
                            "Use cost allocation tags for detailed billing analysis."
                        ]
                    },
                    "Account Management": {
                        subFeatures: [
                            { title: "Programmatic Account Creation", desc: "Create new AWS accounts programmatically from your master account." },
                            { title: "Account Grouping", desc: "Organize accounts into Organizational Units (OUs) to apply policies." },
                            { title: "Account Suspension/Closure", desc: "Manage the lifecycle of accounts within your organization." }
                        ],
                        navigation: "AWS Organizations Console -> AWS accounts",
                        options: [
                            "Structure your OUs based on departments, environments (dev/prod), or regulatory compliance.",
                            "Automate account provisioning using AWS Service Catalog or Lambda."
                        ]
                    },
                    "Service Control Policies (SCPs)": {
                        subFeatures: [
                            { title: "Centralized Permissions Management", desc: "Control the maximum available permissions for accounts or OUs." },
                            { title: "Prevent Unintended Actions", desc: "Prevent specific actions (e.g., leaving the organization, creating unauthorized resources)." },
                            { title: "Deny Lists", desc: "Use SCPs as 'deny lists' to restrict certain services or actions across your organization." }
                        ],
                        navigation: "AWS Organizations Console -> Service control policies",
                        options: [
                            "Apply SCPs to OUs or individual accounts.",
                            "Test SCPs in non-production accounts before applying broadly."
                        ]
                    },
                    "Centralized Control": {
                        subFeatures: [
                            { title: "Policy Inheritance", desc: "Policies (SCPs, AI Services Opt-out) automatically apply to all accounts in an OU and its children." },
                            { title: "Root Account Protection", desc: "Protects the master account by limiting actions only to those necessary for Organizations management." },
                            { title: "Tag Policies", desc: "Enforce consistent tagging conventions across your organization." }
                        ],
                        navigation: "AWS Organizations Console -> Policies",
                        options: [
                            "Use a clear OU hierarchy to simplify policy application.",
                            "Implement tag policies for cost allocation, security, and governance."
                        ]
                    },
                    "Resource Sharing": {
                        subFeatures: [
                            { title: "AWS Resource Access Manager (RAM)", desc: "Share AWS resources (e.g., subnets, Transit Gateways, License Manager configurations) across accounts in your organization." },
                            { title: "Simplified Access", desc: "Eliminates the need for cross-account IAM roles for many sharing scenarios." },
                            { title: "Centralized Management", desc: "Manage shared resources from a central account." }
                        ],
                        navigation: "Resource Access Manager Console",
                        options: [
                            "Enable resource sharing with AWS Organizations in RAM.",
                            "Define resource shares and associate them with OUs or specific accounts."
                        ]
                    }
                },
                interdependencies: [
                    "**AWS IAM**: Works in conjunction with IAM policies to define permissions. SCPs set the *maximum* permissions, while IAM policies grant *actual* permissions.",
                    "**AWS CloudTrail**: For auditing all actions performed in your organization.",
                    "**AWS Config**: For centralized configuration compliance across accounts.",
                    "**AWS Service Catalog**: For provisioning standardized products across accounts.",
                    "**AWS Control Tower**: Builds a well-architected multi-account environment on top of Organizations.",
                    "**AWS Budgets**: For tracking and alerting on aggregated spending across accounts."
                ],
                techStack: ["AWS CLI", "AWS SDKs", "JSON (for SCPs)", "Multi-account strategy"],
                pricing: "No direct cost for AWS Organizations. You pay for the AWS resources that your member accounts use.",
                scenarios: [
                    "Managing a large number of AWS accounts for an enterprise.",
                    "Implementing strong security and compliance policies across an organization.",
                    "Centralizing billing and cost management.",
                    "Automating the creation and onboarding of new development teams.",
                    "Sharing common infrastructure components (e.g., VPCs, Transit Gateways) across accounts."
                ]
            },
            'codepipeline': {
                name: "AWS CodePipeline",
                description: "A fully managed continuous delivery service that helps you automate your release pipelines for fast and reliable application and infrastructure updates.",
                features: ["Automated Release Process", "Integration with AWS Services", "Customizable Stages", "Source Control Integration", "Approvals"],
                featureDetails: {
                    "Automated Release Process": {
                        subFeatures: [
                            { title: "End-to-End Automation", desc: "Automate every step of your software release process from code commit to deployment." },
                            { title: "Fast Delivery", desc: "Accelerate software delivery by eliminating manual steps." },
                            { title: "Consistent Deployments", desc: "Ensure consistent and repeatable deployments across environments." }
                        ],
                        navigation: "CodePipeline Console -> Pipelines -> Create pipeline",
                        options: [
                            "Define pipeline stages (Source, Build, Test, Deploy).",
                            "Configure actions for each stage."
                        ]
                    },
                    "Integration with AWS Services": {
                        subFeatures: [
                            { title: "CodeCommit/S3/ECR Source", desc: "Use various AWS services as source providers for your code." },
                            { title: "CodeBuild/Jenkins Build", desc: "Integrate with build services." },
                            { title: "CodeDeploy/ECS/Lambda Deploy", desc: "Deploy to various AWS compute targets." },
                            { title: "CloudFormation", desc: "Automate infrastructure updates." }
                        ],
                        navigation: "CodePipeline Console -> Pipelines -> Create pipeline -> Choose source/build/deploy providers",
                        options: [
                            "Leverage a wide range of AWS services as actions within your pipeline.",
                            "Use cross-service IAM roles for seamless integration."
                        ]
                    },
                    "Customizable Stages": {
                        subFeatures: [
                            { title: "Flexible Workflow", desc: "Define custom stages to match your release process requirements." },
                            { title: "Parallel & Sequential Actions", desc: "Run actions in parallel or sequence within a stage." },
                            { title: "Manual Approvals", desc: "Insert manual approval steps for critical deployments." }
                        ],
                        navigation: "CodePipeline Console -> Pipelines -> Select pipeline -> Edit -> Add stage",
                        options: [
                            "Add manual approval actions before deploying to production.",
                            "Use custom actions to integrate with third-party tools."
                        ]
                    },
                    "Source Control Integration": {
                        subFeatures: [
                            { title: "AWS CodeCommit", desc: "Fully managed source control service." },
                            { title: "GitHub/GitHub Enterprise", desc: "Integrate with popular Git repositories." },
                            { title: "Amazon S3", desc: "Use S3 buckets as a source for artifacts." }
                        ],
                        navigation: "CodePipeline Console -> Pipelines -> Create pipeline -> Source stage -> Source provider",
                        options: [
                            "Configure webhooks for automatic pipeline trigger on code commits."
                        ]
                    },
                    "Approvals": {
                        subFeatures: [
                            { title: "Manual Approval Actions", desc: "Pause the pipeline and require explicit approval before proceeding." },
                            { title: "Custom Approval Rules", desc: "Define who can approve a stage (IAM users/roles)." },
                            { title: "SNS Notifications", desc: "Send notifications to approvers via SNS." }
                        ],
                        navigation: "CodePipeline Console -> Pipelines -> Select pipeline -> Edit -> Add action (Approval)",
                        options: [
                            "Add an approval action before deploying to a production environment.",
                            "Integrate with ChatOps tools via SNS and Lambda for approval notifications."
                        ]
                    }
                },
                interdependencies: [
                    "**AWS CodeCommit/GitHub/S3**: Source code repositories.",
                    "**AWS CodeBuild**: For building and testing code.",
                    "**AWS CodeDeploy/ECS/EKS/Lambda**: Deployment targets.",
                    "**AWS CloudFormation**: For infrastructure deployment.",
                    "**AWS IAM**: For controlling permissions for CodePipeline and its actions.",
                    "**Amazon CloudWatch**: For monitoring pipeline executions and alarms.",
                    "**Amazon S3**: For storing pipeline artifacts.",
                    "**Amazon SNS**: For notifications on pipeline status and approvals."
                ],
                techStack: ["CI/CD concepts", "YAML/JSON (for buildspec, AppSpec)", "Git"],
                pricing: "Pay-per-active pipeline per month (first active pipeline is free). Actions executed by other services (CodeBuild, CodeDeploy) are billed separately.",
                scenarios: [
                    "Automating continuous integration and continuous delivery (CI/CD) for web applications.",
                    "Deploying microservices updates rapidly and reliably.",
                    "Automating infrastructure changes with CloudFormation.",
                    "Implementing GitOps workflows for application and infrastructure deployment."
                ]
            },
            'codebuild': {
                name: "AWS CodeBuild",
                description: "A fully managed continuous integration service that compiles source code, runs tests, and produces software packages that are ready to deploy.",
                features: ["Managed Build Environment", "On-demand Scaling", "Customizable Builds", "Integration with CodePipeline", "Build Logs & Metrics"],
                featureDetails: {
                    "Managed Build Environment": {
                        subFeatures: [
                            { title: "Pre-configured Environments", desc: "Provides ready-to-use build environments with popular programming languages and build tools." },
                            { title: "No Server Management", desc: "AWS manages the underlying compute infrastructure for your builds." },
                            { title: "Custom Build Environments", desc: "Use your own Docker images as build environments for specific dependencies." }
                        ],
                        navigation: "CodeBuild Console -> Build projects -> Create build project",
                        options: [
                            "Choose a managed build image or provide a custom Docker image from ECR.",
                            "Select environment type (Linux, Windows) and compute capacity."
                        ]
                    },
                    "On-demand Scaling": {
                        subFeatures: [
                            { title: "Automatic Scaling", desc: "Automatically scales build capacity up and down based on demand." },
                            { title: "Parallel Builds", desc: "Run multiple builds concurrently." },
                            { title: "Pay-per-minute", desc: "You only pay for the compute time consumed during the build." }
                        ],
                        navigation: "N/A - inherent service property",
                        options: [
                            "N/A"
                        ]
                    },
                    "Customizable Builds": {
                        subFeatures: [
                            { title: "Buildspec File", desc: "Define build commands, phases, and artifacts using a YAML-formatted buildspec.yml file." },
                            { title: "Environment Variables", desc: "Pass environment variables to your build for configuration." },
                            { title: "Caching", desc: "Cache build dependencies (e.g., Maven, npm) for faster subsequent builds." }
                        ],
                        navigation: "CodeBuild Console -> Build projects -> Select project -> Edit -> Buildspec",
                        options: [
                            "Place your `buildspec.yml` file at the root of your source repository or specify its path.",
                            "Configure artifact output locations (S3) and caching options."
                        ]
                    },
                    "Integration with CodePipeline": {
                        subFeatures: [
                            { title: "Build Stage Automation", desc: "Seamlessly integrate CodeBuild into your CodePipeline release workflows." },
                            { title: "Artifact Passing", desc: "Pass build artifacts (e.g., deployable zips, Docker images) to subsequent pipeline stages." },
                            { title: "Status Reporting", desc: "CodeBuild reports build status back to CodePipeline." }
                        ],
                        navigation: "CodePipeline Console -> Pipelines -> Create pipeline -> Build stage -> Build provider: AWS CodeBuild",
                        options: [
                            "Select your CodeBuild project when configuring the build action in CodePipeline."
                        ]
                    },
                    "Build Logs & Metrics": {
                        subFeatures: [
                            { title: "CloudWatch Logs", desc: "Automatically streams build logs to CloudWatch Logs for real-time monitoring and analysis." },
                            { title: "Build Metrics", desc: "Provides metrics like build duration, successful builds, and failed builds in CloudWatch." },
                            { title: "Notifications", desc: "Configure SNS notifications for build status changes." }
                        ],
                        navigation: "CodeBuild Console -> Build projects -> Select project -> Build history -> View logs",
                        options: [
                            "Enable CloudWatch Logs and S3 logging for your build projects.",
                            "Set up CloudWatch Alarms for build failures."
                        ]
                    }
                },
                interdependencies: [
                    "**AWS CodeCommit/GitHub/S3**: Source code repositories.",
                    "**Amazon S3**: For storing build input and output artifacts.",
                    "**Amazon ECR**: For storing Docker images used as custom build environments.",
                    "**AWS IAM**: For controlling permissions for CodeBuild to access resources.",
                    "**Amazon CloudWatch**: For logging and monitoring build performance.",
                    "**AWS CodePipeline**: For integrating CodeBuild into CI/CD pipelines.",
                    "**AWS Key Management Service (KMS)**: For encrypting build artifacts."
                ],
                techStack: ["Buildspec (YAML)", "Docker", "Git", "Various programming languages and build tools"],
                pricing: "Pay-per-minute for compute time consumed during builds. Build compute types (e.g., General Purpose, Compute Optimized) have different per-minute rates.",
                scenarios: [
                    "Automating continuous integration for application development.",
                    "Compiling code, running unit tests, and packaging applications.",
                    "Creating Docker images for containerized applications.",
                    "Generating static website content from source code."
                ]
            },
            'codedeploy': {
                name: "AWS CodeDeploy",
                description: "A fully managed deployment service that automates software deployments to a variety of compute services such as Amazon EC2, AWS Lambda, and on-premises servers.",
                features: ["Automated Deployments", "Deployment Strategies", "Rollbacks", "In-place & Blue/Green Deployments", "Integrations"],
                featureDetails: {
                    "Automated Deployments": {
                        subFeatures: [
                            { title: "Automate Code Deployment", desc: "Automate the deployment of application code, serverless functions, and infrastructure updates." },
                            { title: "Reduced Manual Errors", desc: "Eliminates manual processes, reducing human error during deployments." },
                            { title: "Consistent Deployments", desc: "Ensures consistent and repeatable deployments across different environments." }
                        ],
                        navigation: "CodeDeploy Console -> Applications -> Create application -> Create deployment group",
                        options: [
                            "Define deployment group target (EC2/On-premises, Lambda).",
                            "Specify deployment type and revision location (S3, GitHub)."
                        ]
                    },
                    "Deployment Strategies": {
                        subFeatures: [
                            { title: "In-place Deployment", desc: "Stop the application on instances, deploy new code, then restart (minimal new resources)." },
                            { title: "Blue/Green Deployment", desc: "New version deployed to a separate set of instances; traffic shifted after validation (zero downtime)." },
                            { title: "Custom Deployment Configurations", desc: "Define how traffic is shifted and how instances are updated." }
                        ],
                        navigation: "CodeDeploy Console -> Deployment groups -> Create deployment group -> Deployment settings",
                        options: [
                            "Choose predefined deployment configurations (e.g., AllAtOnce, HalfAtATime, CodeDeployDefault.LambdaAllAtOnce) or create custom ones.",
                            "Configure health check grace period and rollback settings."
                        ]
                    },
                    "Rollbacks": {
                        subFeatures: [
                            { title: "Automatic Rollback", desc: "Automatically rolls back a deployment if predefined alarms are triggered or if the deployment fails." },
                            { title: "Manual Rollback", desc: "Initiate a rollback to a previous successful revision at any time." },
                            { title: "Fast Recovery", desc: "Minimizes downtime and impact of failed deployments." }
                        ],
                        navigation: "CodeDeploy Console -> Deployment groups -> Select deployment group -> Edit -> Rollbacks",
                        options: [
                            "Enable automatic rollbacks and specify CloudWatch Alarms to monitor during deployment.",
                            "Define rollback behavior (e.g., revert to last good revision, terminate instances)."
                        ]
                    },
                    "In-place & Blue/Green Deployments": {
                        subFeatures: [
                            { title: "In-place", desc: "Updates instances in place. Good for dev/test, can have brief downtime." },
                            { title: "Blue/Green", desc: "Deploys to a completely new environment, then shifts traffic. Provides zero-downtime, easy rollback." },
                            { title: "ECS/Lambda Integration", desc: "Blue/Green deployments are natively supported for ECS and Lambda." }
                        ],
                        navigation: "CodeDeploy Console -> Deployment groups -> Create deployment group -> Deployment settings",
                        options: [
                            "For Blue/Green deployments, configure traffic routing (Route 53, ELB) and termination of original environment."
                        ]
                    },
                    "Integrations": {
                        subFeatures: [
                            { title: "AWS CodePipeline", desc: "Seamlessly integrate as a deployment action in CI/CD pipelines." },
                            { title: "Amazon EC2/Lambda/On-premises", desc: "Deploy to a variety of compute targets." },
                            { title: "AWS Auto Scaling", desc: "Works with Auto Scaling groups to manage instance lifecycle." },
                            { title: "Elastic Load Balancing (ELB)", desc: "For traffic shifting in Blue/Green deployments." },
                            { title: "AWS IAM", desc: "For controlling permissions for CodeDeploy to access resources." },
                            { title: "Amazon CloudWatch", desc: "For monitoring deployments and triggering rollbacks." },
                            { title: "AWS CodeBuild", desc: "For creating deployable artifacts." }
                        ],
                        navigation: "CodeDeploy Console -> Applications / CodePipeline Console -> Pipelines -> Deploy action",
                        options: [
                            "Configure IAM roles for CodeDeploy to access target resources.",
                            "Set up `appspec.yml` for defining deployment hooks and file locations."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon EC2/AWS Lambda/On-premises servers**: Deployment targets.",
                    "**Amazon S3**: For storing application revisions.",
                    "**AWS CodePipeline**: Common orchestrator for CodeDeploy.",
                    "**AWS Auto Scaling**: For managing target instances.",
                    "**Elastic Load Balancing (ELB)**: For traffic shifting in Blue/Green deployments.",
                    "**AWS IAM**: For controlling permissions for CodeDeploy to access resources.",
                    "**Amazon CloudWatch**: For monitoring deployments and triggering rollbacks.",
                    "**AWS CodeBuild**: For creating deployable artifacts."
                ],
                techStack: ["AppSpec (YAML)", "Deployment hooks (Bash, PowerShell)", "Git"],
                pricing: "Pay-per-deployment. Pricing varies slightly based on compute platform (EC2/On-premises vs. Lambda).",
                scenarios: [
                    "Automating continuous deployments of applications to EC2 instances.",
                    "Implementing zero-downtime Blue/Green deployments for web applications.",
                    "Deploying serverless applications (Lambda functions) rapidly.",
                    "Managing deployments to hybrid cloud environments (on-premises servers)."
                ]
            },
            'cloud9': {
                name: "AWS Cloud9",
                description: "A cloud-based integrated development environment (IDE) that lets you write, run, and debug your code with just a browser. It includes a code editor, debugger, and terminal.",
                features: ["Cloud-based IDE", "Collaborative Development", "Serverless Development", "Terminal Access", "Integrated Debugging"],
                featureDetails: {
                    "Cloud-based IDE": {
                        subFeatures: [
                            { title: "Browser Access", desc: "Access your development environment from anywhere with an internet connection using just a web browser." },
                            { title: "Pre-configured Environment", desc: "Comes with essential tools, SDKs, and libraries pre-installed." },
                            { title: "Managed Instance", desc: "AWS manages the underlying EC2 instance for your environment." }
                        ],
                        navigation: "Cloud9 Console -> Environments -> Create environment",
                        options: [
                            "Choose instance type and cost-saving settings (e.g., hibernate after 30 mins inactivity).",
                            "Select development platform (Amazon Linux 2, Ubuntu)."
                        ]
                    },
                    "Collaborative Development": {
                        subFeatures: [
                            { title: "Shared Environments", desc: "Invite team members to your environment for real-time collaborative coding." },
                            { title: "Shared Terminals", desc: "Multiple users can work in the same terminal simultaneously." },
                            { title: "Chat Functionality", desc: "Built-in chat for communication within the IDE." }
                        ],
                        navigation: "Cloud9 Console -> Environments -> Select environment -> Share",
                        options: [
                            "Grant appropriate IAM permissions to collaborators (e.g., `AWSCloud9UserRestrictedAccess`).",
                            "Control read/write access for shared environments."
                        ]
                    },
                    "Serverless Development": {
                        subFeatures: [
                            { title: "Direct Lambda Deployment", desc: "Directly develop, run, and debug AWS Lambda functions." },
                            { title: "API Gateway Integration", desc: "Easily test and deploy APIs with API Gateway." },
                            { title: "Local Emulation", desc: "Emulate serverless functions locally for faster testing." }
                        ],
                        navigation: "Cloud9 IDE -> AWS Resources panel -> Lambda",
                        options: [
                            "Use the AWS Toolkit in Cloud9 for seamless serverless development.",
                            "Configure remote debugging for Lambda functions."
                        ]
                    },
                    "Terminal Access": {
                        subFeatures: [
                            { title: "Full Linux Terminal", desc: "Access a full Linux terminal with root privileges to install software and run commands." },
                            { title: "SSH Access", desc: "Connect to other EC2 instances or remote servers via SSH." },
                            { title: "AWS CLI Pre-installed", desc: "AWS Command Line Interface is pre-installed and configured." }
                        ],
                        navigation: "Cloud9 IDE -> Terminal tab",
                        options: [
                            "Customize your terminal environment (e.g., aliases, shell configurations).",
                            "Use SSH keys for secure remote connections."
                        ]
                    },
                    "Integrated Debugging": {
                        subFeatures: [
                            { title: "Built-in Debugger", desc: "Supports debugging for popular languages (e.g., Python, Node.js)." },
                            { title: "Breakpoints & Step-through", desc: "Set breakpoints, step through code, inspect variables." },
                            { title: "Serverless Debugging", desc: "Debug Lambda functions locally or remotely." }
                        ],
                        navigation: "Cloud9 IDE -> Run menu -> Start Debugger",
                        options: [
                            "Configure debug configurations for your application or Lambda function.",
                            "Use the Debugger pane to inspect call stacks and variables."
                        ]
                    }
                },
                interdependencies: [
                    "**Amazon EC2**: Cloud9 environments run on EC2 instances.",
                    "**AWS IAM**: For controlling user access to Cloud9 environments and underlying resources.",
                    "**AWS Lambda**: For serverless application development.",
                    "**Amazon API Gateway**: For testing and deploying APIs.",
                    "**AWS CodeCommit/GitHub**: For source code management and cloning repositories.",
                    "**Amazon S3**: For storing project files and backups.",
                    "**AWS Systems Manager (SSM)**: For secure connections to Cloud9 environments."
                ],
                techStack: ["Linux", "Node.js", "Python", "Java", "PHP", "Go", "Git", "SSH"],
                pricing: "No direct cost for Cloud9. You pay for the underlying EC2 instance and any other AWS resources used by your development environment.",
                scenarios: [
                    "Setting up a consistent development environment for new team members.",
                    "Collaborative coding on a shared project in real-time.",
                    "Developing and debugging serverless applications (Lambda, API Gateway).",
                    "Performing quick fixes and updates from any internet-connected device.",
                    "Educational purposes and coding bootcamps."
                ]
            }
        };

        let currentActiveBranch = null; // Tracks the currently active main branch

        /**
         * Toggles the visibility of sub-services within a main branch.
         * Closes other open branches when a new one is opened.
         * @param {string} branchId - The ID of the branch element to toggle.
         */
        function toggleBranch(branchId) {
            const subServices = document.getElementById(branchId);
            // If there's an active branch and it's not the one just clicked, close it
            if (currentActiveBranch && currentActiveBranch !== subServices) {
                currentActiveBranch.classList.remove('active');
            }
            // Toggle the 'active' class for the clicked branch's sub-services
            subServices.classList.toggle('active');
            // Update the currentActiveBranch variable
            currentActiveBranch = subServices.classList.contains('active') ? subServices : null;
        }

        /**
         * Calls the Gemini API with a given prompt and displays the response.
         * @param {string} prompt - The text prompt to send to the LLM.
         * @param {string} outputElementId - The ID of the HTML element where the response should be displayed.
         * @param {HTMLElement} buttonElement - The button element that triggered the call, to manage its state.
         */
        async function callGeminiAPI(prompt, outputElementId, buttonElement) {
            const outputElement = document.getElementById(outputElementId);
            const originalButtonText = buttonElement.innerHTML; // Store original button text

            outputElement.style.display = 'block'; // Ensure output area is visible
            outputElement.innerHTML = '<div class="loading-indicator"></div> Loading AI response...'; // Show loading

            buttonElement.disabled = true; // Disable button during API call
            buttonElement.innerHTML = `<div class="loading-indicator"></div> Thinking...`; // Change button text to show loading

            try {
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; // Canvas will automatically provide the API key here.
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                // Check if the response is OK before trying to parse JSON
                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error(`HTTP error! status: ${response.status}, message: ${errorText}`);
                }

                const result = await response.json();
                console.log("Gemini API raw response:", result); // Log raw response for debugging

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    outputElement.innerHTML = text; // Display the response
                } else {
                    outputElement.innerHTML = 'Error: Could not get a valid response from the AI. Unexpected structure.';
                    console.error("Unexpected API response structure:", result);
                }
            } catch (error) {
                outputElement.innerHTML = `Error: Failed to connect to AI. Details: ${error.message}`;
                console.error("Gemini API call failed:", error);
            } finally {
                buttonElement.innerHTML = originalButtonText; // Restore button text
                buttonElement.disabled = false; // Re-enable button
            }
        }


        /**
         * Displays the detailed information about an AWS service in a modal.
         * @param {string} serviceId - The ID of the service to display.
         */
        function showServiceDetails(serviceId) {
            const data = serviceData[serviceId];
            if (!data) return; // Exit if service data is not found

            const modalContent = document.getElementById('modalContent');
            // Populate the modal with service details using template literals
            modalContent.innerHTML = `
                <h2>${data.name}</h2>
                <p class="service-desc">${data.description}</p>
                <div style="display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap;">
                    <button class="llm-action-button" onclick="summarizeServiceDescription('${data.description}', this)">Summarize Description ‚ú®</button>
                    <button class="llm-action-button" onclick="generateUseCasesIdea('${data.name}', '${data.description}', this)">Suggest More Use Cases ‚ú®</button>
                    <button class="llm-action-button" onclick="explainPricing('${data.name}', '${data.pricing}', this)">Explain Pricing ‚ú®</button>
                </div>
                <div id="llm-service-output" class="llm-output-area" style="display: none;"></div>
                <hr style="margin: 20px 0; border-color: rgba(255,255,255,0.1);">

                <h3>üåü Key Features</h3>
                <div class="features">
                    ${data.features.map(feature => 
                        // Generate feature tags, replacing spaces for valid IDs in toggleFeatureDetails
                        `<span class="feature-tag" onclick="toggleFeatureDetails('${serviceId}', '${feature}')">${feature}</span>`
                    ).join('')}
                </div>
                ${data.features.map(feature => `
                    <!-- Feature details section for each feature -->
                    <div id="feature-details-${serviceId}-${feature.replace(/\s/g, '-')}" class="feature-details">
                        ${data.featureDetails[feature] && data.featureDetails[feature].subFeatures && data.featureDetails[feature].subFeatures.length > 0 ?
                            data.featureDetails[feature].subFeatures.map(sf => `
                                <div class="sub-feature">
                                    <div class="sub-feature-title">${sf.title}</div>
                                    <div class="sub-feature-desc">${sf.desc}</div>
                                </div>
                            `).join('')
                            : '<p>No specific details available for this feature.</p>'}
                        
                        ${data.featureDetails[feature] && data.featureDetails[feature].navigation ? `
                            <div class="feature-nav">
                                <strong>Console Navigation:</strong> ${data.featureDetails[feature].navigation}
                            </div>
                        ` : ''}
                        ${data.featureDetails[feature] && data.featureDetails[feature].options && data.featureDetails[feature].options.length > 0 ? `
                            <div class="feature-nav">
                                <strong>Key Configuration Options:</strong>
                                <ul class="config-options">
                                    ${data.featureDetails[feature].options.map(option => `<li>${option}</li>`).join('')}
                                </ul>
                            </div>
                        ` : ''}
                    </div>
                `).join('')}
                <hr style="margin: 20px 0; border-color: rgba(255,255,255,0.1);">

                <h3>ü§ù Interdependent Services</h3>
                <div class="interdependencies">
                    <ul>
                        ${data.interdependencies.map(dep => `<li>${dep}</li>`).join('')}
                    </ul>
                </div>
                <hr style="margin: 20px 0; border-color: rgba(255,255,255,0.1);">

                <h3>üíª Tech Stack / Integrations</h3>
                <div class="tech-stack">
                    ${data.techStack.map(tech => `<span class="feature-tag">${tech}</span>`).join('')}
                </div>
                <hr style="margin: 20px 0; border-color: rgba(255,255,255,0.1);">

                <h3>üí≤ Pricing Model</h3>
                <div class="pricing-info">
                    ${data.pricing} <a href="https://aws.amazon.com/pricing/${serviceId}" target="_blank" style="color: #00bcd4; text-decoration: underline;">Learn More</a>
                </div>
                <hr style="margin: 20px 0; border-color: rgba(255,255,255,0.1);">

                <h3>üéØ Common Scenarios</h3>
                <div class="scenario-box">
                    <ul>
                        ${data.scenarios.map(scenario => `<li>${scenario}</li>`).join('')}
                    </ul>
                </div>
            `;
            document.getElementById('serviceModal').style.display = 'block'; // Show the modal
        }

        /**
         * Toggles the visibility of specific feature details within the service modal.
         * Ensures only one feature detail section is open at a time.
         * @param {string} serviceId - The ID of the current service.
         * @param {string} featureName - The name of the feature to toggle.
         */
        function toggleFeatureDetails(serviceId, featureName) {
            // Construct the ID for the specific feature details element
            const featureId = `feature-details-${serviceId}-${featureName.replace(/\s/g, '-')}`;
            const featureDetailsElement = document.getElementById(featureId);

            // Get all feature details elements within the current modal
            const allFeatureDetailsInModal = document.querySelectorAll('#modalContent .feature-details');

            // If the clicked element is already active, close it and return
            if (featureDetailsElement.classList.contains('active')) {
                featureDetailsElement.classList.remove('active');
                return;
            }

            // Close all other active feature details elements in the modal
            allFeatureDetailsInModal.forEach(element => {
                if (element.classList.contains('active')) {
                    element.classList.remove('active');
                }
            });

            // Now, open the clicked feature details element
            featureDetailsElement.classList.add('active');
        }

        /**
         * Closes the service details modal.
         */
        function closeModal() {
            document.getElementById('serviceModal').style.display = 'none';
            // Optionally, clear modal content or reset state when closing
            document.getElementById('modalContent').innerHTML = '';
        }

        // Close modal when clicking outside of it
        window.onclick = function(event) {
            const modal = document.getElementById('serviceModal');
            if (event.target == modal) {
                closeModal(); // Use the existing closeModal function
            }
        }

        // LLM specific functions
        /**
         * Summarizes the given service description using the Gemini API.
         * @param {string} description - The service description to summarize.
         * @param {HTMLElement} buttonElement - The button element that triggered the call.
         */
        async function summarizeServiceDescription(description, buttonElement) {
            const prompt = `Summarize the following AWS Core service description concisely in 2-3 sentences:\n\n"${description}"`;
            await callGeminiAPI(prompt, 'llm-service-output', buttonElement);
        }

        /**
         * Generates new use cases for a given AWS service using the Gemini API.
         * @param {string} serviceName - The name of the AWS service.
         * @param {string} serviceDescription - The description of the AWS service.
         * @param {HTMLElement} buttonElement - The button element that triggered the call.
         */
        async function generateUseCasesIdea(serviceName, serviceDescription, buttonElement) {
            const prompt = `Given the AWS core service "${serviceName}" with the description "${serviceDescription}", suggest 3-4 creative and distinct real-world use cases or applications not already mentioned, in bullet point format.`;
            await callGeminiAPI(prompt, 'llm-service-output', buttonElement);
        }

        /**
         * Explains the pricing model for a given AWS service using the Gemini API.
         * @param {string} serviceName - The name of the AWS service.
         * @param {string} pricingInfo - The existing pricing information.
         * @param {HTMLElement} buttonElement - The button element that triggered the call.
         */
        async function explainPricing(serviceName, pricingInfo, buttonElement) {
            const prompt = `Explain the pricing model for AWS service "${serviceName}" based on this information: "${pricingInfo}". Elaborate on the key cost drivers and provide a general overview of how costs are calculated for this service in AWS. Keep it concise (3-5 sentences).`;
            await callGeminiAPI(prompt, 'llm-service-output', buttonElement);
        }

        /**
         * Performs a search using Gemini AI and displays the result in the floating search area.
         */
        async function performAISearch() {
            const searchInput = document.getElementById('ai-search-input');
            const searchOutput = document.getElementById('ai-search-output');
            const searchButton = document.getElementById('ai-search-button');
            const userQuery = searchInput.value.trim();

            if (!userQuery) {
                searchOutput.innerHTML = '<p style="color: #ffcccc;">Please enter a search query.</p>';
                searchOutput.style.display = 'block';
                return;
            }

            const prompt = `As a concise AI search assistant focused *only* on AWS core services (non-AI, e.g., Compute, Storage, Networking, Databases, Management, Developer Tools) and related advancements, provide a relevant and helpful answer to the following query: "${userQuery}". Keep the answer to a maximum of 3-4 sentences. If the query is outside the scope of AWS core services, state that politely.`;
            await callGeminiAPI(prompt, 'ai-search-output', searchButton);
        }

        /**
         * Toggles the visibility and expanded state of the floating AI search bar.
         * Also handles dynamic positioning (left/right) based on current location.
         */
        function toggleFloatingSearch() {
            const floatingSearch = document.getElementById('floatingAISearch');
            const searchIcon = document.getElementById('searchIcon');

            // Get current position before toggling the class
            const currentLeft = floatingSearch.getBoundingClientRect().left;
            const viewportWidth = window.innerWidth;

            floatingSearch.classList.toggle('expanded');

            if (floatingSearch.classList.contains('expanded')) {
                searchIcon.textContent = '‚úñ'; // Change icon to close
                document.getElementById('ai-search-input').focus(); // Focus on input when expanded

                // Determine whether to open to the left or right
                if (currentLeft > (viewportWidth / 2)) {
                    // It's on the right half, open to the left
                    floatingSearch.style.right = '20px';
                    floatingSearch.style.left = 'auto'; // Ensure left is auto
                } else {
                    // It's on the left half, open to the right
                    floatingSearch.style.left = '20px';
                    floatingSearch.style.right = 'auto'; // Ensure right is auto
                }
                // Ensure top is maintained or set if not dragged
                if (floatingSearch.style.top === 'auto' || floatingSearch.style.top === '') {
                    floatingSearch.style.bottom = '20px';
                    floatingSearch.style.top = 'auto';
                }

            } else {
                searchIcon.textContent = 'üîç'; // Change icon to search
                document.getElementById('ai-search-output').style.display = 'none'; // Hide output when collapsed
                document.getElementById('ai-search-output').innerHTML = ''; // Clear output when collapsed
                document.getElementById('ai-search-input').value = ''; // Clear input when collapsed

                // Reset position to default bottom-right on collapse
                floatingSearch.style.right = '20px';
                floatingSearch.style.bottom = '20px';
                floatingSearch.style.left = 'auto';
                floatingSearch.style.top = 'auto';
            }
        }

        // Draggable functionality for the floating search bar
        let isDragging = false;
        let offset = { x: 0, y: 0 };
        const floatingSearchElement = document.getElementById('floatingAISearch');

        floatingSearchElement.addEventListener('mousedown', (e) => {
            // Only start dragging if the bar is not expanded or if the click is on the toggle button itself
            if (!floatingSearchElement.classList.contains('expanded') || e.target.closest('.search-toggle-button')) {
                isDragging = true;
                offset = {
                    x: e.clientX - floatingSearchElement.getBoundingClientRect().left,
                    y: e.clientY - floatingSearchElement.getBoundingClientRect().top
                };
                floatingSearchElement.style.cursor = 'grabbing';
            }
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;

            // Calculate new position
            let newX = e.clientX - offset.x;
            let newY = e.clientY - offset.y;

            // Get viewport dimensions to constrain dragging
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            const elementWidth = floatingSearchElement.offsetWidth;
            const elementHeight = floatingSearchElement.offsetHeight;

            // Constrain newX to stay within viewport bounds
            newX = Math.max(0, Math.min(newX, viewportWidth - elementWidth));
            // Constrain newY to stay within viewport bounds
            newY = Math.max(0, Math.min(newY, viewportHeight - elementHeight));

            // Set position using left/top (overriding right/bottom)
            floatingSearchElement.style.left = `${newX}px`;
            floatingSearchElement.style.top = `${newY}px`;
            floatingSearchElement.style.right = 'auto'; // Disable right/bottom positioning when dragging via left/top
            floatingSearchElement.style.bottom = 'auto';
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            floatingSearchElement.style.cursor = floatingSearchElement.classList.contains('expanded') ? 'auto' : 'grab';
        });

        // Remove onclick from central node as it does nothing in this version
        document.querySelector('.central-node').onclick = null;
    </script>
</body>
</html>
